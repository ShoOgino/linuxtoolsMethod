    /**
     * Test for {@link LttngKernelAnalysisModule#getAnalysisRequirements()}
     */
    @Test
    public void testGetAnalysisRequirements() {
        Iterable<TmfAnalysisRequirement> requirements = fKernelAnalysisModule.getAnalysisRequirements();
        assertNotNull(requirements);

        /* There should be the event and domain type */
        TmfAnalysisRequirement eventReq = null;
        TmfAnalysisRequirement domainReq = null;
        int numberOfRequirement = 0;
        for (TmfAnalysisRequirement requirement : requirements) {
            ++numberOfRequirement;
            if (requirement.getType().equals(SessionConfigStrings.CONFIG_ELEMENT_EVENT)) {
                eventReq = requirement;
            } else if (requirement.getType().equals(SessionConfigStrings.CONFIG_ELEMENT_DOMAIN)) {
                domainReq = requirement;
            }
        }
        assertNotNull(eventReq);
        assertNotNull(domainReq);

        /* There should be two requirements */
        assertEquals(2, numberOfRequirement);

        /* Verify the content of the requirements themselves */
        /* Domain should be kernel */
        assertEquals(1, domainReq.getValues().size());
        for (String domain : domainReq.getValues()) {
            assertEquals(SessionConfigStrings.CONFIG_DOMAIN_TYPE_KERNEL, domain);
        }

        /* Events */
        Set<String> expectedEvents = ImmutableSet.of(
                LttngStrings.EXIT_SYSCALL,
                LttngStrings.IRQ_HANDLER_ENTRY,
                LttngStrings.IRQ_HANDLER_EXIT,
                LttngStrings.SOFTIRQ_ENTRY,
                LttngStrings.SOFTIRQ_EXIT,
                LttngStrings.SOFTIRQ_RAISE,
                LttngStrings.SCHED_SWITCH,
                LttngStrings.SCHED_PROCESS_FORK,
                LttngStrings.SCHED_PROCESS_EXIT,
                LttngStrings.SCHED_PROCESS_FREE,
                LttngStrings.STATEDUMP_PROCESS_STATE,
                LttngStrings.SCHED_WAKEUP,
                LttngStrings.SCHED_WAKEUP_NEW,
                /* Add the prefix for syscalls */
                LttngStrings.SYSCALL_PREFIX
                );

        assertEquals(14, eventReq.getValues().size());
        for (String event : eventReq.getValues()) {
            assertTrue("Unexpected event " + event, expectedEvents.contains(event));
        }
    }

