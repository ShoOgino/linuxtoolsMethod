    /**
     * Range query, but with a t2 far off the end of the trace.
     * The result should still be valid.
     */
    @Test
    public void testRangeQuery2() throws TimeRangeException,
            AttributeNotFoundException {

        List<ITmfStateInterval> intervals;
        
        int quark = shs.getQuarkAbsolute("CPUs", "0", "IRQ_stack");
        long ts1 = shs.getHistoryBackend().getStartTime(); /* start of the trace */
        long ts2 = CtfTestFiles.startTime + 20L * CtfTestFiles.NANOSECS_PER_SEC; /* invalid, but ignored */

        intervals = shs.queryHistoryRange(quark, ts1, ts2);

        /* Nb of IRQs on CPU 0 during the whole trace */
        assertEquals(1653, intervals.size());
    }

