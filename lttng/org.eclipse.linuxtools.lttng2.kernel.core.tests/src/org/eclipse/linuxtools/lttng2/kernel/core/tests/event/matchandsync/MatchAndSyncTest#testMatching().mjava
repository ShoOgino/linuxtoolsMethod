    /**
     * Testing the packet matching
     */
    @Test
    public void testMatching() {
        final String cr = System.getProperty("line.separator");
        CtfTmfTrace trace1 = CtfTmfTestTraces.getTestTrace(3);
        CtfTmfTrace trace2 = CtfTmfTestTraces.getTestTrace(4);

        CtfTmfTrace[] tracearr = new CtfTmfTrace[2];
        tracearr[0] = trace1;
        tracearr[1] = trace2;

        TmfEventMatching.registerMatchObject(new TcpEventMatching());
        TmfEventMatching.registerMatchObject(new TcpLttngEventMatching());

        TmfNetworkEventMatching twoTraceMatch = new TmfNetworkEventMatching(tracearr);
        assertTrue(twoTraceMatch.matchEvents());

        String stats = twoTraceMatch.toString();
        assertEquals("TmfEventMatches [ Number of matches found: 46 ]" +
                "Trace 0:" + cr +
                "  3 unmatched incoming events" + cr +
                "  2 unmatched outgoing events" + cr +
                "Trace 1:" + cr +
                "  2 unmatched incoming events" + cr +
                "  1 unmatched outgoing events" + cr, stats);
    }

