    /**
     * Range query, but with a t2 far off the end of the trace.
     * The result should still be valid.
     */
    @Test
    public void testRangeQuery2() throws TimeRangeException,
            AttributeNotFoundException, StateSystemDisposedException {

        List<ITmfStateInterval> intervals;

        int quark = ssq.getQuarkAbsolute(Attributes.RESOURCES, Attributes.IRQS, "1");
        long ts1 = ssq.getStartTime(); /* start of the trace */
        long ts2 = startTime + 20L * NANOSECS_PER_SEC; /* invalid, but ignored */

        intervals = ssq.queryHistoryRange(quark, ts1, ts2);

        /* Activity of IRQ 1 over the whole trace */
        assertEquals(65, intervals.size());
    }

