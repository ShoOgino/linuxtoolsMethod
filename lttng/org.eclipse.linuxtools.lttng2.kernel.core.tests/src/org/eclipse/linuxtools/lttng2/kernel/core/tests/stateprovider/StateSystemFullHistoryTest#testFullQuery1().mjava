    @Test
    public void testFullQuery1() throws StateValueTypeException,
            AttributeNotFoundException, TimeRangeException {

        ITmfStateInterval interval;
        int quark, valueInt;
        String valueStr;

        shs.loadStateAtTime(17622841472359L);

        quark = shs.getQuarkAbsolute("CPUs", "0", "Current_thread");
        interval = shs.queryState(quark);
        valueInt = interval.getStateValue().unboxInt();
        assertTrue(valueInt == 1929);

        quark = shs.getQuarkAbsolute("Threads", "1197", "Exec_name");
        interval = shs.queryState(quark);
        valueStr = interval.getStateValue().unboxStr();
        assertTrue(valueStr.equals("apache2"));

        // FIXME fails at the moment (attribute type is int, and = 3129??), I'll
        // figure it out later
        // quark = shs.getQuarkAbsolute("Threads", "3109", "Exec_mode_stack");
        // interval = shs.getState(quark);
        // valueStr = interval.getStateValue().unboxStr();
        // assertTrue( valueStr.equals("bloup") );
    }

