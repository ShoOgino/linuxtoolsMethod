    @Test
    public void testFullQuery1() throws StateValueTypeException,
            AttributeNotFoundException, TimeRangeException {

        ITmfStateInterval interval;
        int quark, quark2, valueInt;
        String valueStr;

        shs.loadStateAtTime(interestingTimestamp1);

        quark = shs.getQuarkAbsolute("CPUs", "0", "Current_thread");
        interval = shs.queryState(quark);
        valueInt = interval.getStateValue().unboxInt();
        assertEquals(1397, valueInt);

        quark = shs.getQuarkAbsolute("Threads", "1432", "Exec_name");
        interval = shs.queryState(quark);
        valueStr = interval.getStateValue().unboxStr();
        assertEquals("gdbus", valueStr);

        /* Query a stack attribute, has to be done in two passes */
        quark = shs.getQuarkAbsolute("Threads", "1432", "Exec_mode_stack");
        interval = shs.queryState(quark);
        valueInt = interval.getStateValue().unboxInt(); /* The stack depth */
        quark2 = shs.getQuarkRelative(quark, Integer.toString(valueInt));
        interval = shs.queryState(quark2);
        valueStr = interval.getStateValue().unboxStr();
        assertTrue(valueStr.equals("sys_poll"));
    }

