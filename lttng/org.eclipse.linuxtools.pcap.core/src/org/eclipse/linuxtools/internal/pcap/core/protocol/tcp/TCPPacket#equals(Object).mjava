    @Override
    public boolean equals(@Nullable Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj == null) {
            return false;
        }
        if (getClass() != obj.getClass()) {
            return false;
        }
        TCPPacket other = (TCPPacket) obj;
        if (fACKFlag != other.fACKFlag) {
            return false;
        }
        if (fAcknowledgmentNumber != other.fAcknowledgmentNumber) {
            return false;
        }
        if (fCWRFlag != other.fCWRFlag) {
            return false;
        }
        if (fChecksum != other.fChecksum) {
            return false;
        }
        final Packet child = fChildPacket;
        if (child != null) {
            if (!child.equals(other.fChildPacket)) {
                return false;
            }
        } else {
            if (other.fChildPacket != null) {
                return false;
            }
        }

        if (fDataOffset != other.fDataOffset) {
            return false;
        }
        if (fDestinationPort != other.fDestinationPort) {
            return false;
        }
        if (fECEFlag != other.fECEFlag) {
            return false;
        }
        if (fFINFlag != other.fFINFlag) {
            return false;
        }
        if (fNSFlag != other.fNSFlag) {
            return false;
        }
        if (!Arrays.equals(fOptions, other.fOptions)) {
            return false;
        }
        if (fPSHFlag != other.fPSHFlag) {
            return false;
        }
        final ByteBuffer fPayload2 = fPayload;
        if (fPayload2 != null) {
            if (!fPayload2.equals(other.fPayload)) {
                return false;
            }
        } else {
            if (other.fPayload != null) {
                return false;
            }
        }
        if (fRSTFlag != other.fRSTFlag) {
            return false;
        }
        if (fReservedField != other.fReservedField) {
            return false;
        }
        if (fSYNFlag != other.fSYNFlag) {
            return false;
        }
        if (fSequenceNumber != other.fSequenceNumber) {
            return false;
        }
        if (fSourcePort != other.fSourcePort) {
            return false;
        }
        if (fURGFlag != other.fURGFlag) {
            return false;
        }
        if (fUrgentPointer != other.fUrgentPointer) {
            return false;
        }
        if (fWindowSize != other.fWindowSize) {
            return false;
        }
        return true;
    }

