    private XmlEntry processEntry(@NonNull Element entryElement, @NonNull Element displayEl,
            XmlEntry parentEntry, int quark, ITmfStateSystem ss) {
        /*
         * Get the start time and end time of this entry from the display
         * attribute
         */
        ITmfXmlStateAttribute display = fFactory.createStateAttribute(displayEl, parentEntry);
        int displayQuark = display.getAttributeQuark(quark);
        if (displayQuark == IXmlStateSystemContainer.ERROR_QUARK) {
            return new XmlEntry(quark, parentEntry.getTrace(),
                    String.format("Unknown display quark for %s", ss.getAttributeName(quark)), ss); //$NON-NLS-1$
        }

        long entryStart = ss.getStartTime();
        long entryEnd = ss.getCurrentEndTime();
        try {
            boolean first = true;
            List<ITmfStateInterval> execNameIntervals = ss.queryHistoryRange(displayQuark, ss.getStartTime(), ss.getCurrentEndTime());

            for (ITmfStateInterval execNameInterval : execNameIntervals) {

                if (!execNameInterval.getStateValue().isNull()) {
                    if (first) {
                        entryStart = execNameInterval.getStartTime();
                        first = false;
                    }
                    entryEnd = execNameInterval.getEndTime();
                }
            }
        } catch (AttributeNotFoundException | StateSystemDisposedException e) {
        }

        return new XmlEntry(quark, displayQuark, parentEntry.getTrace(), ss.getAttributeName(quark),
                entryStart, entryEnd, EntryDisplayType.DISPLAY, ss, entryElement);
    }

