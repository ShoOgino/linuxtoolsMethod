    /*
     * Method to create a symbolic link to a trace residing on the local host. 
     */
    public static void linkTrace(Shell shell, TraceResource trace, IProject project, String traceName) {
        IFolder traceFolder = project.getFolder(TRACE_FOLDER_NAME);
        if (!traceFolder.exists()) {
            MessageDialog.openWarning(shell,
                    Messages.ImportToProject_ImportFailed,
                    Messages.ImportToProject_NoProjectTraceFolder);
            return;
        }

        IFolder folder = traceFolder.getFolder(traceName);
        if (folder.exists()) {
            MessageDialog.openWarning(shell,
                    Messages.ImportToProject_ImportFailed,
                    Messages.ImportToProject_AlreadyExists);
            return;
        }

        File sourceFolder = new File(trace.getTraceConfig().getTracePath());

        try {
            folder.createLink(sourceFolder.toURI(), IResource.REPLACE, null);
            // Set the trace properties for this resource
            // FIXME: update from extension point properties
            folder.setPersistentProperty(TmfCommonConstants.TRACEBUNDLE, Activator.PLUGIN_ID);
            folder.setPersistentProperty(TmfCommonConstants.TRACETYPE, "org.eclipse.linuxtools.lttng.tracetype.kernel"); //$NON-NLS-1$
            folder.setPersistentProperty(TmfCommonConstants.TRACEICON, "icons/obj16/tux2.png"); //$NON-NLS-1$
        } catch (CoreException e) {
            MessageDialog.openWarning(shell,
                    Messages.ImportToProject_ImportFailed,
                    e.getMessage());
        }
    }

