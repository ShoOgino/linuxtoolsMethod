    /*
     * (non-Javadoc)
     * @see org.eclipse.linuxtools.lttng.ui.views.latency.listeners.AbstractPaintListener#paintContent()
     */
    @Override
    public void paintContent() {
        if (fXMin >= 0 && fXMax >= 0 && fYMin >= 0 && fYMax >= 0 && fScaledData != null) {
            
            fAxisImage.setForeground(fDataColor);
            fAxisImage.setBackground(fDataColor);

            double height = getHeight();

            int xLen = fScaledData.getHorNbBuckets();
            int yLen = fScaledData.getVerNbBuckets();

            int barWidth = fScaledData.getBarWidth();
            
            for (int i = 0; i < xLen; i++) {
                for (int j = 0; j < yLen; j++) {
                    if (fScaledData.getEventCount(i, j) > 0) {

                        double x = fPadding + i * barWidth + fVerticalAxisOffset + 1;
                        double y = fPadding + fPaddingTop + height - j * barWidth;

                        // Avoid over-drawing background area
                        int yBarWidth = fBarWith;
                        if (y - yBarWidth < fPadding + fPaddingTop) {
                            yBarWidth = (int) (y - fPadding - fPaddingTop);
                        }
                        int xBarWidth = fBarWith;
                        if(x + xBarWidth > fClientArea.width - fPadding - fPaddingRight) {
                            xBarWidth =  (int)(fClientArea.width - fPadding - fPaddingRight - x);    
                        }
                        fAxisImage.fillRectangle((int) x, (int) y - (int) yBarWidth, (int) xBarWidth, (int) yBarWidth);
                    }
                }
            }
            
            if (fScaledData.isCurrentEventTimeValid()) {
                // Draw vertical line
                int index = fScaledData.getHorBucketIndex(fScaledData.getCurrentEventTime());

                int x = fPadding + index * barWidth + fVerticalAxisOffset + 1;
                fAxisImage.setForeground(fCurrentEventColor);
                fAxisImage.setBackground(fCurrentEventColor);
                fAxisImage.drawLine(x, fPadding + fPaddingTop, x, fClientArea.height - fPadding - fHorizontalAxisYOffset);
            }
        }
    }

