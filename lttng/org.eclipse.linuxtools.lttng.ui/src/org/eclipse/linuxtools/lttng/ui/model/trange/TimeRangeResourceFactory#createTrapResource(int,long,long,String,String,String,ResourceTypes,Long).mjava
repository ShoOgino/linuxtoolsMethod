	private TimeRangeEventResource createTrapResource(int newId,
			long newStartTime, long newStopTime, String newName,
			String newGroupName, String newClassName, ResourceTypes newType,
			Long newResourceId) {

		TimeRangeEventResource resource = new TimeRangeEventResource(newId,
				newStartTime, newStopTime, newName, newGroupName, newClassName,
				newType, newResourceId) {

			@Override
			public String getStateMode(LttngTraceState traceSt) {
				// Determine the trap state.
				long trapState = traceSt.getTrap_states().get(getResourceId())
						.getRunning().longValue();
				String trapStateMode = "";
				if (trapState == 0) {
					trapStateMode = StateStrings.TrapMode.LTTV_TRAP_IDLE
							.getInName();
				} else {
					trapStateMode = StateStrings.TrapMode.LTTV_TRAP_BUSY
							.getInName();
				}

				return trapStateMode;
			}
		};

		return resource;
	}

