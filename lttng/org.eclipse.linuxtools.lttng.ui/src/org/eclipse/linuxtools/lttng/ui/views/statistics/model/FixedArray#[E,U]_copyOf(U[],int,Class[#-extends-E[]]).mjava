	/**
	 * Replace {@link java.util.Arrays#copyOf(Object[], int, Class)} that do not exist in java 5.
	 * @param <E> Content of the array.
	 * @param array Original array to copy from.
	 * @param newLength Length of the copy to be returned.
	 * @param newType Type of the array to be returned.
	 * @return A new array consisting of the elements specified.
	 */
	@SuppressWarnings("unchecked")
	private static <E, U> E[] copyOf(final U[] array, int newLength, Class<? extends E[]> newType) {
		E[] result = (E[])Array.newInstance(newType.getComponentType(), newLength);
		System.arraycopy(array, 0, result, 0, Math.min(array.length, newLength));
		return result;
	}

