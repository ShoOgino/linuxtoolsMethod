    /**
     * Move the currently selected bar cursor to a non-empty bucket.
     * 
     * @param keyCode the SWT key code
     */
    protected void moveCursor(int keyCode) {

        if (fScaledData.fCurrentBucket == HistogramScaledData.OUT_OF_RANGE_BUCKET)
            return;

        int index;
        switch (keyCode) {

            case SWT.HOME:
                index = 0;
                while (index < fScaledData.fLastBucket && fScaledData.fData[index] == 0)
                    index++;
                if (index < fScaledData.fLastBucket)
                    fScaledData.fCurrentBucket = index;
                break;

            case SWT.ARROW_RIGHT:
                index = fScaledData.fCurrentBucket + 1;
                while (index < fScaledData.fWidth && fScaledData.fData[index] == 0)
                    index++;
                if (index < fScaledData.fLastBucket)
                    fScaledData.fCurrentBucket = index;
                break;

            case SWT.END:
                index = fScaledData.fLastBucket;
                while (index >= 0 && fScaledData.fData[index] == 0)
                    index--;
                if (index >= 0)
                    fScaledData.fCurrentBucket = index;
                break;

            case SWT.ARROW_LEFT:
                index = fScaledData.fCurrentBucket - 1;
                while (index >= 0 && fScaledData.fData[index] == 0)
                    index--;
                if (index >= 0)
                    fScaledData.fCurrentBucket = index;
                break;

            default:
                return;
        }

        updateCurrentEventTime();
    }

