	/**
	 * This is a callback that will allow us to create the viewer and initialize
	 * it.
	 */
	@Override
	public void createPartControl(Composite parent) {
		top = new Composite(parent, SWT.BORDER);

		top.setLayout(new FillLayout());
		tsfviewer = TmfViewerFactory.createViewer(top, new TimeRangeViewerProvider(getParamsUpdater()));

		tsfviewer.addWidgetSelectionListner(this);
		tsfviewer.addWidgetTimeScaleSelectionListner(this);

		// Traces shall not be grouped to allow synchronisation
		tsfviewer.groupTraces(true);
		tsfviewer.setAcceptSelectionAPIcalls(true);

		// Viewer to notify selection to this class
		// This class will synchronise selections with table.
//		tsfviewer.addWidgetSelectionListner(this);
//		tsfviewer.addWidgetTimeScaleSelectionListner(this);

		// Create the help context id for the viewer's control
		// TODO: Associate with help system
		PlatformUI.getWorkbench().getHelpSystem().setHelp(
				tsfviewer.getControl(),
				"org.eclipse.linuxtools.lttng.ui.views.resource.view"); //$NON-NLS-1$

		makeActions();
		hookContextMenu();
		contributeToActionBars();

//		// Read relevant values
//		int timeSpaceWidth = tsfviewer.getTimeSpace();
//		if (timeSpaceWidth < 0) {
//			timeSpaceWidth = -timeSpaceWidth;
//		}

		TmfExperiment<?> experiment = TmfExperiment.getCurrentExperiment();
		if (experiment != null) {
			TmfTimeRange experimentTRange = experiment.getTimeRange();
			if (experimentTRange != null) {
				long time0 = experimentTRange.getStartTime().getValue();
				long time1 = experimentTRange.getEndTime().getValue();
				ParamsUpdater paramUpdater = getParamsUpdater();
				paramUpdater.update(time0, time1); // , timeSpaceWidth);
			}
			// send the initial request and obtained the adjusted time used
			TmfTimeRange adjustedTimeRange = initialExperimentDataRequest(this, experimentTRange);

			// initialize widget time boundaries and filtering parameters
			ModelUpdateInit(experimentTRange, adjustedTimeRange, this);
		} else {
			TraceDebug.debug("No selected experiment information available");
		}
	}

