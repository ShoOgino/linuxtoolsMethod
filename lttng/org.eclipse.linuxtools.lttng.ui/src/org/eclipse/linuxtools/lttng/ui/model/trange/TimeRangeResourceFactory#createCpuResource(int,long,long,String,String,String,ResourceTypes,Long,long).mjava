	private TimeRangeEventResource createCpuResource(int newId,
			long newStartTime, long newStopTime, String newName,
			String newGroupName, String newClassName, ResourceTypes newType,
			Long newResourceId, long insertionTime) {

		TimeRangeEventResource resource = new TimeRangeEventResource(newId,
				newStartTime, newStopTime, newName, newGroupName, newClassName,
				newType, newResourceId, insertionTime) {

			@Override
			public String getStateMode(LttngTraceState traceSt) {
				// Get the resource state mode
			    LTTngCPUState cpuState = traceSt.getCpu_states().get(
                        getResourceId());
			    
				String cpuStateMode = "";
				if (cpuState != null) { 
				    cpuStateMode = traceSt.getCpu_states().get(
				            getResourceId())
				            .peekFromCpuStack().getInName();
				}

				return cpuStateMode;
			}

		};

		return resource;
	}

