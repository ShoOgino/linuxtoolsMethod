    /**
     * @since 3.0
     */
    @Override
    protected IStatus buildStateSystem() {
        super.buildStateSystem();

        /* Build the state system specific to LTTng kernel traces */
        String directory = TmfTraceManager.getSupplementaryFileDir(this);
        final File htFile = new File(directory + HISTORY_TREE_FILE_NAME);
        final ITmfStateProvider htInput = new LttngKernelStateProvider(this);

        try {
            ITmfStateSystem ss = TmfStateSystemFactory.newFullHistory(htFile, htInput, false);
            fStateSystems.put(STATE_ID, ss);
        } catch (TmfTraceException e) {
            return new Status(IStatus.ERROR, Activator.PLUGIN_ID, e.getMessage(), e);
        }
        return Status.OK_STATUS;
    }

