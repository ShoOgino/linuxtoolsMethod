    private void closeStateSystem() {
        /* Close the History system, if there is one */
        if (ss.getClass() == StateHistorySystem.class) {
            try {
                ((StateHistorySystem) ss).closeHistory(currentEvent.getTimestamp().getValue());
            } catch (TimeRangeException e) {
                /*
                 * Since we're using currentEvent.getTimestamp, this shouldn't
                 * cause any problem
                 */
                e.printStackTrace();
            }
        }
    }

