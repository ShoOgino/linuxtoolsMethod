    /**
     * Add a field to the struct
     *
     * @param name
     *            the name of the field, scopeless
     * @param declaration
     *            the declaration of the field
     */
    @SuppressWarnings("null")
    // Immutable list copyof cannot return null
    public void addField(String name, IDeclaration declaration) {
        fFieldMap.put(name, declaration);
        fMaxAlign = Math.max(fMaxAlign, declaration.getAlignment());
        fFieldNames = ImmutableList.copyOf(fFieldMap.keySet());
        fFieldDeclarations = ImmutableList.<IDeclaration>copyOf(fFieldMap.values());
    }

