    /**
     * Constructor that is fully parameterizable
     *
     * @param buf
     *            the buffer to read
     * @param order
     *            the byte order (big-endian, little-endian, network?)
     */
    public BitBuffer(ByteBuffer buf, ByteOrder order) {
        if (buf == null) {
            throw new IllegalArgumentException("Buffer cannot be null"); //$NON-NLS-1$
        }
        fBuffer = buf;
        setByteOrder(order);
        resetPosition();
        fBitCapacity = fBuffer.capacity() * BIT_CHAR;
    }

