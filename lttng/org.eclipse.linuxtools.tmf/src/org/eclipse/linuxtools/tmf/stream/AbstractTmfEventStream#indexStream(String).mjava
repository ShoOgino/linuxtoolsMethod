    public void indexStream(final String filename) {

//        ProgressMonitorDialog dialog = new ProgressMonitorDialog(null);
//        try {
//            dialog.run(true, true, new IRunnableWithProgress() {
//                @Override
//                public void run(IProgressMonitor monitor)
//                        throws InvocationTargetException, InterruptedException {
//                    monitor.beginTask("Indexing " + filename,
//                            IProgressMonitor.UNKNOWN);
//
//                    try {
//                        seekLocation(null);
//                        TmfTimestamp startTime = new TmfTimestamp();
//                        TmfTimestamp lastTime = new TmfTimestamp();
//                        Object location = getCurrentLocation();
//
//                        TmfEvent event = getNextEvent();
//                        if (event != null) {
//                            startTime = event.getTimestamp();
//                            while (event != null) {
//                                lastTime = event.getTimestamp();
//                                if ((fNbEvents++ % fCacheSize) == 0) {
//                                    if (monitor.isCanceled()) {
//                                        throw new CancellationException();
//                                    }
//                                    TmfStreamCheckpoint bookmark = new TmfStreamCheckpoint(
//                                            lastTime, location);
//                                    fCheckpoints.add(bookmark);
//                                    monitor.worked(1);
//                                }
//                                location = getCurrentLocation();
//                                event = getNextEvent();
//                            }
//                            fTimeRange = new TmfTimeRange(startTime, lastTime);
//                        }
//                        seekLocation(null);
//                    } catch (IOException e) {
//                    } finally {
//                        monitor.done();
//                    }
//                }
//
//            });
//        } catch (InvocationTargetException e1) {
//            // TODO Auto-generated catch block
//            e1.printStackTrace();
//        } catch (InterruptedException e1) {
//            // TODO Auto-generated catch block
//            e1.printStackTrace();
//        }
    }

