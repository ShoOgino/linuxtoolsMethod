    /**
     * Called by the request processor upon completion.
     */
    @Override
	public void done() {
        if (Tracer.isRequestTraced()) Tracer.traceRequest(this, "completing");
        synchronized(this) {
        	if (!fRequestCompleted) {
            	fRequestRunning   = false;
                fRequestCompleted = true;
            }
        }
		handleCompleted();
		completedLatch.countDown();
    }

