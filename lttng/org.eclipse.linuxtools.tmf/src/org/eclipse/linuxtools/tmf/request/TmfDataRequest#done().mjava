    /**
     * Called by the request processor upon completion.
     */
    public void done() {
        if (Tracer.isRequestTraced()) Tracer.traceRequest(this, "completing");
        synchronized(lock) {
        	fRequestRunning   = false;
            fRequestCompleted = true;
            lock.notify();
        }
        handleCompleted();
    }

