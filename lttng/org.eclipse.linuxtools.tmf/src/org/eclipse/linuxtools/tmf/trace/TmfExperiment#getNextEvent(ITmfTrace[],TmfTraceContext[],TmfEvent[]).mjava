	/**
	 * Scan the next events from all traces and return the next one
	 * in chronological order.
	 * 
	 * @param traces
	 * @param contexts
	 * @param nextEvents
	 * @return
	 */
	private TmfEvent getNextEvent(ITmfTrace[] traces, TmfTraceContext[] contexts, TmfEvent[] nextEvents) {
		// TODO: Consider the time adjustment
		int trace = 0;
		TmfEvent event = nextEvents[0];
		TmfTimestamp timestamp = (event != null) ? event.getTimestamp() : TmfTimestamp.BigCrunch;
		for (int i = 1; i < traces.length; i++) {
			if (nextEvents[i] != null) {
				TmfTimestamp otherTS = nextEvents[i].getTimestamp();
				if (otherTS.compareTo(timestamp, true) < 0) {
					trace = i;
					timestamp = otherTS;
					event = nextEvents[i];
				}
			}
		}
		nextEvents[trace] = traces[trace].getNextEvent(contexts[trace]);
		return event;
	}

