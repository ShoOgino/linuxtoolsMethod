	/**
	 * Scan the next events from all traces and return the next one
	 * in chronological order.
	 * 
	 * @param traces
	 * @param contexts
	 * @param nextEvents
	 * @return
	 */
	private TmfEvent getNextEvent(ITmfTrace[] traces, TmfTraceContext[] contexts) {
		// TODO: Consider the time adjustment
		int trace = 0;
		TmfTimestamp timestamp = contexts[trace].getTimestamp();
		if (timestamp == null) {
			timestamp = TmfTimestamp.BigCrunch;
		}
		for (int i = 1; i < traces.length; i++) {
			if (contexts[i].getTimestamp() != null) {
				TmfTimestamp otherTS = contexts[i].getTimestamp();
				if (otherTS.compareTo(timestamp, true) < 0) {
					trace = i;
					timestamp = otherTS;
				}
			}
		}
		TmfEvent event = traces[trace].getNextEvent(contexts[trace]);
		return event;
	}

