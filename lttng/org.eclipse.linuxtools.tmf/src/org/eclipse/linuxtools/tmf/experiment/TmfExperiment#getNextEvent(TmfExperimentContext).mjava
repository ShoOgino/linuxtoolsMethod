	/**
	 * Scan the next events from all traces and return the next one
	 * in chronological order.
	 * 
	 * @param context
	 * @return
	 */
	private TmfEvent getNextEvent(TmfExperimentContext context) {
		// TODO: Consider the time adjustment
		int trace = 0;
		TmfTimestamp timestamp = TmfTimestamp.BigCrunch;
		if (context.getEvents()[trace] != null) {
			timestamp = context.getEvents()[trace].getTimestamp();
		}
		for (int i = 1; i < context.getTraces().length; i++) {
			if (context.getEvents()[i].getTimestamp() != null) {
				TmfTimestamp otherTS = context.getEvents()[i].getTimestamp();
				if (otherTS.compareTo(timestamp, true) < 0) {
					trace = i;
					timestamp = otherTS;
				}
			}
		}
		TmfEvent event = context.getTraces()[trace].getNextEvent(context.getContexts()[trace]);
		context.getEvents()[trace] = context.getTraces()[trace].parseEvent(context.getContexts()[trace]);
		return event;
	}

