    /**
     * Run the ILttngControlService getControlService()/setControlService()
     * method test.
     *
     * @throws ExecutionException
     *             Would fail the test
     */
    @Test
    public void testGetAndSetControlService_1() throws ExecutionException {

        TraceControlComponent parent = new TraceControlComponent("parent") {
            ILttngControlService fService = null;

            @Override
            public void setControlService(ILttngControlService service ) {
                fService = service;
            }

            @Override
            public ILttngControlService getControlService() {
                return fService;
            }
        };

        TraceControlComponent fixture = new TraceControlComponent("", parent);
        parent.addChild(fixture);
        fixture.setToolTip("");
        TraceControlComponent child = new TraceControlComponent("child", fixture);
        fixture.addChild(child);

        ILttngControlService result = fixture.getControlService();
        assertEquals(null, result);

        TestRemoteSystemProxy proxy = new TestRemoteSystemProxy();
        ILttngControlService service = new LTTngControlService(proxy.createCommandShell());
        fixture.setControlService(service);
        result = fixture.getControlService();
        assertNotNull(service);
        assertEquals(service, result);

        service = new LTTngControlServiceMI(proxy.createCommandShell(), LTTngControlServiceMI.class.getResource(LTTngControlServiceConstants.MI_XSD_FILENAME));
        fixture.setControlService(service);
        result = fixture.getControlService();
        assertNotNull(service);
        assertEquals(service, result);

        result = fixture.getChildren()[0].getControlService();
        assertNotNull(service);
        assertEquals(service, result);
    }

