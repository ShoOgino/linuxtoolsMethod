    /**
     * Format a long representing nanoseconds into a string of the form
     * "[seconds].[nanoseconds]" with the appropriate zero-padding.
     * <p>
     *
     * @param ns
     *            the timestamp in nanoseconds
     * @return the formatted string
     */
    public static String nanosecondsToString(long ns) {
        ns = Math.abs(ns);
        String time = Long.toString(ns);

        int length = time.length();
        if (time.length() > 9) {
            // Just insert the decimal dot
            time = time.substring(0, length - 9)
                    + "." + time.substring(length - 9); //$NON-NLS-1$
            return time;
        }

        // Zero-pad the value
        for (int i = length; i < 9; i++) {
            time = "0" + time; //$NON-NLS-1$
        }
        time = "0." + time; //$NON-NLS-1$
        return time;
    }

