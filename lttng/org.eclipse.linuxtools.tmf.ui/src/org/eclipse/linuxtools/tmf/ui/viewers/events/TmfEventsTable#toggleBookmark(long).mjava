    private void toggleBookmark(final long rank) {
        if (fBookmarksFile == null)
            return;
        if (fBookmarksMap.containsKey(rank)) {
            final Long markerId = fBookmarksMap.remove(rank);
            fTable.refresh();
            try {
                final IMarker bookmark = fBookmarksFile.findMarker(markerId);
                if (bookmark != null)
                    bookmark.delete();
            } catch (final CoreException e) {
                displayException(e);
            }
        } else
            addBookmark(fBookmarksFile);
    }

