        public int getValue() {
            int res;
            try {
                res = Integer.parseInt(text.getText());
            } catch (Exception e) {
                // ignored
                res = 0;
            }
            return Math.max(min, Math.min(max, res));
        }

