    public GraphNode getCalledMessage(BaseMessage StartMessage) {
        int event = 0;
        GraphNode result = null;
        Lifeline lifeline = null;
        if (StartMessage != null) {
            event = ((BaseMessage) StartMessage).getEventOccurrence();
            lifeline = ((BaseMessage) StartMessage).getEndLifeline();
            if (lifeline == null)
                lifeline = ((BaseMessage) StartMessage).getStartLifeline();
        }
        if (lifeline == null)
            return null;
        GraphNode message = getCloserLeavingMessage(lifeline, StartMessage, getSyncMessages(), false);
        GraphNode messageReturn = getCloserLeavingMessage(lifeline, StartMessage, getSyncMessagesReturn(), false);
        result = getCloserToEvent(message, messageReturn, event);
        message = getCloserLeavingMessage(lifeline, StartMessage, getAsyncMessages(), false);
        result = getCloserToEvent(result, message, event);
        messageReturn = getCloserLeavingMessage(lifeline, StartMessage, getAsyncMessagesReturn(), false);
        result = getCloserToEvent(result, messageReturn, event);
        return result;
    }

