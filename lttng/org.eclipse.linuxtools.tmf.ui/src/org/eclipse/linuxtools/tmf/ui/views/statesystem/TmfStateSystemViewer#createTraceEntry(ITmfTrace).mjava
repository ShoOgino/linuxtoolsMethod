    private static TmfTreeViewerEntry createTraceEntry(ITmfTrace trace) {
        TmfTreeViewerEntry traceEntry = new TmfTreeViewerEntry(trace.getName());
        Iterable<ITmfAnalysisModuleWithStateSystems> modules = trace.getAnalysisModulesOfClass(ITmfAnalysisModuleWithStateSystems.class);
        for (ITmfAnalysisModuleWithStateSystems module : modules) {
            /* Just schedule the module, the data will be filled when available */
            module.schedule();
            if (module instanceof TmfStateSystemAnalysisModule) {
                // TODO: add this method to ITmfAnalysisModuleWithStateSystems
                ((TmfStateSystemAnalysisModule) module).waitForInitialization();
            }
            for (ITmfStateSystem ss : module.getStateSystems()) {
                if (ss != null) {
                    traceEntry.addChild(new StateSystemEntry(ss));
                }
            }
        }
        return traceEntry;
    }

