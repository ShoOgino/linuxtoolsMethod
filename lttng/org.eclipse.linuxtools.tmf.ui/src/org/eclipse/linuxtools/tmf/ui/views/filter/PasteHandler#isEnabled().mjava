    @Override
    public boolean isEnabled() {
        // Check if we are closing down
        IWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();
        if (window == null) {
            return false;
        }

        // Get the selection
        IWorkbenchPage page = window.getActivePage();
        IWorkbenchPart part = page.getActivePart();
        if (!(part instanceof FilterView)) {
            return false;
        }
        FilterView v = (FilterView) part;
        ITmfFilterTreeNode sel = v.getSelection();
        if (sel == null) {
            sel = v.getFilterRoot();
        }
        ITmfFilterTreeNode objectToPaste = FilterEditUtils.getTransferredTreeNode();
        if (v.isTreeInFocus() &&
                objectToPaste != null &&
                (sel.getValidChildren().contains(objectToPaste.getNodeName())
                || TmfFilterNode.NODE_NAME.equals(objectToPaste.getNodeName()))) {
            return true;
        }
        return false;
    }

