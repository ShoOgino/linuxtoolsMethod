    public GraphNode getNextLifelineMessage(Lifeline lifeline, BaseMessage StartMessage) {
        int event = 0;
        if (StartMessage != null)
            event = ((BaseMessage) StartMessage).getEventOccurrence();
        if (lifeline == null)
            return null;
        GraphNode message = getCloserLeavingMessage(lifeline, StartMessage, getSyncMessages(), false);
        GraphNode messageReturn = getCloserLeavingMessage(lifeline, StartMessage, getSyncMessagesReturn(), false);
        GraphNode result = getCloserToEvent(message, messageReturn, event);
        message = getCloserLeavingMessage(lifeline, StartMessage, getAsyncMessages(), false);
        result = getCloserToEvent(result, message, event);
        messageReturn = getCloserLeavingMessage(lifeline, StartMessage, getAsyncMessagesReturn(), false);
        result = getCloserToEvent(result, messageReturn, event);
        return result;
    }

