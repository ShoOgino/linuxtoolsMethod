    /**
     * Refreshes this time graph completely with information freshly obtained from its model.
     */
    public void refresh() {
        fInhibitTreeSelection = true;
        Tree tree = fTreeViewer.getTree();
        tree.setRedraw(false);
        fTreeViewer.refresh();
        fTreeViewer.expandAll();
        tree.setRedraw(true);
        fTimeGraphViewer.refresh();
        List<TreeItem> treeItems = getVisibleExpandedItems(tree);
        int topIndex = fTimeGraphViewer.getTopIndex();
        if (topIndex < treeItems.size()) {
            TreeItem treeItem = treeItems.get(topIndex);
            tree.setTopItem(treeItem);
        }
        fInhibitTreeSelection = false;
    }

