    public synchronized void storeEvent(TmfEvent event, long rank, int index) {
    	if (fCacheStartIndex == fCacheEndIndex) {
    		fCacheStartIndex = index;
    		fCacheEndIndex = index;
    	}
    	if (index == fCacheEndIndex) {
    		int i = index - fCacheStartIndex;
    		if (i < fCache.length) {
    			fCache[i] = new CachedEvent(event.clone(), rank);
    			fCacheEndIndex++;
    		}
    	}
    	if (fFilter != null && index % fCache.length == 0) {
    		int i = index / fCache.length;
    		fFilterIndex.add(i, Integer.valueOf((int) rank));
    	}
    }

