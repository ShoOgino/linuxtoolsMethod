    @Override
    public boolean setChecked(Object element, boolean state) {
        boolean checkable = fCheckboxTreeViewer.setChecked(element, state);
        if (!state) {
            fObjects.remove(element);
        } else if (checkable) {
            fObjects.add(element);
        }
        return checkable;
    }

