    /**
     * Computes value for X coordinates step and Y coordinates step.
     */
    protected void computeStepXY() {
        float cw = fOverviewCanvas.getContentsWidth() / fOverviewCanvas.getZoomValue();
        float ch = fOverviewCanvas.getContentsHeight() / fOverviewCanvas.getZoomValue();
        try {
            if (fPrinterData == null) {
                fStepX = 0;
                fStepY = 0;
                fNbPages = 0;
                fZoomFactor = 0;
            } else {
                Printer printer = new Printer(fPrinterData);
                if (fSetHPagesNumber.getSelection()) {
                    fNbPages = Integer.valueOf(fHorPagesNum.getText()).intValue();
                    float z1 = fSdView.getContentsWidth() / cw;
                    float z2 = printer.getClientArea().width / ((float) fSdView.getContentsWidth() / fNbPages);

                    fStepY = printer.getClientArea().height / z1 / z2;
                    fStepX = cw / fNbPages;
                } else if (fSetVPagesNumber.getSelection()) {
                    fNbPages = Integer.valueOf(fVertPagesNum.getText()).intValue();
                    float z1 = fSdView.getContentsHeight() / ch;
                    float z2 = printer.getClientArea().height / ((float) fSdView.getContentsHeight() / fNbPages);
                    fStepX = printer.getClientArea().width / z1 / z2;
                    fStepY = ch / fNbPages;
                } else {
                    float z1 = fSdView.getContentsWidth() / (cw);
                    fStepX = fSdView.getVisibleWidth() / z1;
                    fNbPages = Math.round(cw / fStepX);
                    if (fNbPages == 0) {
                        fNbPages = 1;
                    }
                    int pw = printer.getClientArea().width;
                    int ph = printer.getClientArea().height;
                    float z2 = pw / ((float) fSdView.getContentsWidth() / fNbPages);
                    fStepY = ph / z1 / z2;
                }
            }
        } catch (NumberFormatException e) {
            fStepX = fStepY = fNbPages = 0;
            fZoomFactor = 0;
        }
        sTX = fStepX * (fSdView.getContentsWidth() / cw);
        sTY = fStepY * (fSdView.getContentsHeight() / ch);
        float rat = 1;
        if ((fSdView.getVisibleWidth() > fSdView.getContentsWidth()) && (fSetVPagesNumber.getSelection() || fSetHPagesNumber.getSelection())) {
            rat = (float) fSdView.getVisibleWidth() / (float) fSdView.getContentsWidth();
        }
        fZoomFactor = (fOverviewCanvas.getContentsWidth() / cw) / fOverviewCanvas.getZoomFactor() * rat;
    }

