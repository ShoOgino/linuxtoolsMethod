    protected int getFilteredEventIndex(long rank) {
    	synchronized (fFilteredEventCache) {
	        for (int i = 0; i < fFilteredEventCache.size(); i++) {
	        	FilteredEvent filteredEvent = fFilteredEventCache.get(i);
	        	if (filteredEvent.rank >= rank) {
	        		return i;
	        	}
	        }
    	}
    	return fFilteredEventCache.size();
    }

