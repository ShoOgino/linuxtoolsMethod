    private void selectTime(long time) {
        if (fEntryList == null) {
            return;
        }
        for (ThreadEntry threadEntry : fEntryList) {
            ITmfStateSystem ss = threadEntry.getStateSystem();
            if (ss == null) {
                continue;
            }
            ss.waitUntilBuilt();
            if (ss.isCancelled()) {
                continue;
            }
            long queryTime = Math.max(ss.getStartTime(), Math.min(ss.getCurrentEndTime(), time));
            for (ITimeGraphEntry child : threadEntry.getChildren()) {
                CallStackEntry callStackEntry = (CallStackEntry) child;
                try {
                    ITmfStateInterval stackLevelInterval = ss.querySingleState(queryTime, callStackEntry.getQuark());
                    ITmfStateValue nameValue = stackLevelInterval.getStateValue();
                    String name = ""; //$NON-NLS-1$
                    try {
                        if (nameValue.getType() == Type.STRING) {
                            String address = nameValue.unboxStr();
                            name = getFunctionName(address);
                        } else if (nameValue.getType() == Type.INTEGER) {
                            name = "0x" + Integer.toHexString(nameValue.unboxInt()); //$NON-NLS-1$
                        } else if (nameValue.getType() == Type.LONG) {
                            name = "0x" + Long.toHexString(nameValue.unboxLong()); //$NON-NLS-1$
                        }
                    } catch (StateValueTypeException e) {
                    }
                    callStackEntry.setFunctionName(name);
                    if (name.length() > 0) {
                        callStackEntry.setStartTime(stackLevelInterval.getStartTime());
                        callStackEntry.setEndTime(stackLevelInterval.getEndTime() + 1);
                    }
                } catch (AttributeNotFoundException e) {
                    Activator.getDefault().logError("Error querying state system", e); //$NON-NLS-1$
                } catch (TimeRangeException e) {
                    Activator.getDefault().logError("Error querying state system", e); //$NON-NLS-1$
                } catch (StateSystemDisposedException e) {
                    Activator.getDefault().logError("Error querying state system", e); //$NON-NLS-1$
                }
            }
        }
        fTimeGraphCombo.refresh();
    }

