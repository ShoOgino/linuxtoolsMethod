    @Override
    protected void okPressed() {
        Object[] checkedElements = fTreeViewer.getCheckedElements();
        List<IResource> checkedResources = new ArrayList<>(checkedElements.length);
        for (Object checked : checkedElements) {
            if (checked instanceof IResource) {
                checkedResources.add((IResource) checked);
            }
        }
        fReturnedResources = checkedResources.toArray(new IResource[0]);
        super.okPressed();
    }

