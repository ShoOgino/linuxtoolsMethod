    private String rename(IPath tracePath) {
        TmfTraceElement trace = getExistingTrace(tracePath);
        if (trace == null) {
            return tracePath.lastSegment();
        }

        // Not using IFolder on purpose to leave the door open to import
        // directly into an IProject
        IContainer folder = (IContainer) trace.getParent().getResource();
        int i = 2;
        while (true) {
            String name = trace.getName() + '(' + Integer.toString(i++) + ')';
            IResource resource = folder.findMember(name);
            if (resource == null) {
                return name;
            }
        }
    }

