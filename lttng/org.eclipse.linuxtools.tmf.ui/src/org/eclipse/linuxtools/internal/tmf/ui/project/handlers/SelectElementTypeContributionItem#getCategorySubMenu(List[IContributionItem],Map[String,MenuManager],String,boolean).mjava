    private static MenuManager getCategorySubMenu(List<IContributionItem> list,
            Map<String, MenuManager> categoriesMap, String categoryName, boolean selected) {
        for (Entry<String, MenuManager> entry : categoriesMap.entrySet()) {
            MenuManager subMenu = entry.getValue();
            if (subMenu.getMenuText().equals(categoryName)) {
                if (selected) {
                    subMenu.setImageDescriptor(SELECTED_ICON);
                }
                return subMenu;
            }
        }
        ImageDescriptor icon = selected ? SELECTED_ICON : null;
        MenuManager subMenu = new MenuManager(categoryName, icon, null);
        categoriesMap.put(categoryName, subMenu);
        list.add(subMenu);
        return subMenu;
    }

