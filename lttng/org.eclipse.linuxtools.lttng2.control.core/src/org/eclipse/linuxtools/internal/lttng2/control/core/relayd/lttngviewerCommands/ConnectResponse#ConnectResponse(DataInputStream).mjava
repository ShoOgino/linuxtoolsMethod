    /**
     * Connection response reply constructor
     *
     * @param inStream
     *            the data input stream
     * @throws IOException
     *             a network error
     */
    public ConnectResponse(DataInputStream inStream) throws IOException {
        byte data[] = new byte[SIZE];
        inStream.readFully(data);
        ByteBuffer bb = ByteBuffer.wrap(data);
        bb.order(ByteOrder.BIG_ENDIAN);
        fViewerSessionId = bb.getLong();
        fMajor = bb.getInt();
        fMinor = bb.getInt();
        int connectType = bb.getInt();
        switch (connectType) {
        case 1:
            fType = ConnectionType.VIEWER_CLIENT_COMMAND;
            break;
        case 2:
            fType = ConnectionType.VIEWER_CLIENT_NOTIFICATION;
            break;
        default:
            throw new IOException("Invalid connection type " + connectType); //$NON-NLS-1$
        }
    }

