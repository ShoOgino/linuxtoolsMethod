    /**
     * Gets the 'output' element after creating it. If the session is a
     * snapshot, it will be composed of a snapshot outputs element. Otherwise,
     * it will contain the consumer output element.
     *
     * @param document
     *            The document in which the nodes are being added
     * @param session
     *            The session informations
     * @return The output element as an XML node
     */
    private static Element getOutputElement(Document document, ISessionInfo session) {
        Element outputElement = document.createElement(SessionConfigStrings.CONFIG_ELEMENT_OUTPUT);

        if (session.isSnapshotSession()) {
            outputElement.appendChild(getSnapshotOuputsElement(document, session));
        } else if (session.isStreamedTrace()) {
            outputElement.appendChild(getNetOutputElement(document, session));
        } else {
            outputElement.appendChild(getConsumerOutputElement(document, session));
        }

        return outputElement;
    }

