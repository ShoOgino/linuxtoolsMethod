    /**
     * Test opening and reading the trace
     */
    @Test
    public void testTrace() {
        try (/* Instantiate the trace (which implies parsing the metadata) */
                CTFTrace trace = new CTFTrace(fTracePath);
                /* Read the trace until the end */
                CTFTraceReader reader = new CTFTraceReader(trace);) {

            reader.getCurrentEventDef();
            while (reader.advance()) {
                assertNotNull(reader.getCurrentEventDef());
            }

            checkIfWeShoudlSucceed();
        } catch (CTFReaderException e) {
            checkIfWeShouldFail(e);
        } catch (OutOfMemoryError e) {
            checkIfWeShouldFail(e);
        }
    }

