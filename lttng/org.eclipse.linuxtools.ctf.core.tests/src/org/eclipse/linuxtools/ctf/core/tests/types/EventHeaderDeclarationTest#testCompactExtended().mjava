    /**
     * Test an extended compact header
     *
     * @throws CTFReaderException
     *             if {@link BitBuffer} is null
     */
    @Test
    public void testCompactExtended() throws CTFReaderException {
        ByteBuffer buffer = ByteBuffer.allocate(16);
        buffer.put((byte) 0xFF);
        buffer.putInt(ID);
        buffer.putLong(TIMESTAMP);
        byte[] validCompact2 = buffer.array();

        EventHeaderCompactDeclaration decl = new EventHeaderCompactDeclaration(ByteOrder.BIG_ENDIAN);
        final ByteBuffer input = ByteBuffer.wrap(validCompact2);
        assertNotNull(input);
        EventHeaderDefinition def = decl.createDefinition(null, "bla", new BitBuffer(input));
        assertNotNull(def);
        assertEquals(ID, def.getId());
        assertEquals(TIMESTAMP, def.getTimestamp());
    }

