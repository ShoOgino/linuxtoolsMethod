	// =======================================================================
	// Constructor
	// =======================================================================
	/**
	 * @param id
	 * @param parent
	 * @param name
	 * @param trace
	 * @param stateModel
	 * @param eventProvider
	 * @throws LttngStateException
	 */
	public StateTraceManager(Long id, LTTngTreeNode parent, String name,
			ITmfTrace trace,
			TmfEventProvider<LttngSyntheticEvent> eventProvider)
			throws LttngStateException {
		super(id, parent, name, trace);

		if (trace == null) {
			throw new LttngStateException("No TmfTrace object available!");
		}

		fTrace = trace;
		fCheckPointsStartTime = trace.getStartTime().clone();
		fStateUpdateProcessor = StateEventToHandlerFactory.getInstance();
		fSynEventProvider = eventProvider;

		init();
		
		fStateModel = StateModelFactory.getStateEntryInstance(this);
		fStateModel.init(this);

		fCheckPointStateModel = StateModelFactory.getStateEntryInstance(this);
		fCheckPointStateModel.init(this);
	}

