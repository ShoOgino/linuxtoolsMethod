    @Override
    public boolean equals(Object obj) {

    	if (obj == null) return false;
		boolean isSame = true;
		
        if ( obj instanceof ProcessStateKey ) {
        	ProcessStateKey procKey = (ProcessStateKey) obj;
        	
        	if (procKey.pid != this.pid) {
        	    return false;
        	}

        	if (!(procKey.traceId.equals(this.traceId))) {
        	    return false;
        	}

        	if (((procKey.pid == 0L) && (procKey.cpuId != this.cpuId))) {
        	    return false;
        	}

		}
        else {
			TraceDebug
					.debug("ERROR : The received Key is not of the type ProcessStateKey! but " //$NON-NLS-1$
							+ obj.getClass().toString());
			return false;
        }
        
        return isSame;
    }

