	// =======================================================================
	// Constructor
	// =======================================================================
	/**
	 * @param id
	 * @param parent
	 * @param name
	 * @param trace
	 * @param stateModel
	 * @param eventProvider
	 * @throws LttngStateException
	 */
	public StateTraceManager(Long id, LTTngTreeNode parent, String name,
			ITmfTrace trace, LttngTraceState stateModel,
			TmfEventProvider<LttngSyntheticEvent> eventProvider)
			throws LttngStateException {
		super(id, parent, name, trace);

		if (trace == null) {
			throw new LttngStateException("No TmfTrace object available!");
		}

		fTrace = trace;
		fStateModel = stateModel;
		fStateModel.init(this);
		fStateUpdateProcessor = StateEventToHandlerFactory.getInstance();
		fSynEventProvider = eventProvider;
		init();
	}

