    @Override
    public TmfTraceContext seekEvent(TmfTimestamp timestamp) {

    	if (timestamp == null) {
    		timestamp = getStartTime();
    	}
        
    	int index = Collections.binarySearch(fCheckpoints, new TmfTraceCheckpoint(timestamp, 0));
    	
        if (index < 0) {
            index = 0;
        }
        
        Object location = (index < fCheckpoints.size()) ? fCheckpoints.elementAt(index).getLocation() : null;
        
    	if ( showDebug == true ) {
    		System.out.println("seekEvent(TmfTimestamp timestamp)");
    		System.out.println("\ttimestamp: " + timestamp.getValue());
    		System.out.println("\tindex:     " + index);
    		System.out.println("\tlocation:  " + location);
    		System.out.println();
    	}
    	
    	// *** HACK ***
    	// We only know the timestamp AFTER we read the actual event
    	// For this reason, we save the current "position" in byte (nbCharRead) and we seek back 1 event after we find our event
        TmfTraceContext currentEventContext = seekLocation(location);
        
        Long previousCharRead = nbCharRead;
        Long previousTimestamp = currentLttngEvent.getTimestamp().getValue();
        TmfEvent event = getNextEvent(currentEventContext);
        
        while ( (event != null) && (event.getTimestamp().getValue() < timestamp.getValue()) ) {
        	previousCharRead = nbCharRead;
        	previousTimestamp = currentLttngEvent.getTimestamp().getValue();
        	event = getNextEvent(currentEventContext);
        }
        
        if ( event != null ) {
        	skipToPosition(previousCharRead);
        	currentEventContext.setLocation(previousCharRead);
        	currentEventContext.setTimestamp(new LttngTimestamp(previousTimestamp));
        }
        
        return currentEventContext;
    }

