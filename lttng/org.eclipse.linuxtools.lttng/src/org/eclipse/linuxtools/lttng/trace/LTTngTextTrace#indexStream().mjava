    @Override
    public void indexStream() {
    	// Position the trace at the beginning
        TmfTraceContext context = seekLocation(null);
        
       	long nbEvents=1L;
       	fCheckpoints.add(new TmfTraceCheckpoint(new LttngTimestamp(0L), 0L));
       	
       	LttngTimestamp startTime = null;
       	LttngTimestamp lastTime  = new LttngTimestamp();
       	LttngTimestamp timestamp = null;
        Long previousCharRead = 0L;
        
        TextLttngEvent tmpEvent = (TextLttngEvent)getNextEvent(context);
        
        while ( tmpEvent != null) {
        	timestamp = (LttngTimestamp)context.getTimestamp();
        	previousCharRead = nbCharRead;
        	
        	if ( startTime == null ) {
        		startTime = new LttngTimestamp(timestamp.getValue());
        	}
        	
        	if ((++nbEvents % fCacheSize) == 0) {
           		fCheckpoints.add(new TmfTraceCheckpoint(new LttngTimestamp(timestamp.getValue()), previousCharRead));
        	}
        	
        	tmpEvent = (TextLttngEvent)getNextEvent(context);
        }
        
        if (timestamp != null) {
			lastTime.setValue(timestamp.getValue());
				
           		setTimeRange( new TmfTimeRange(startTime, lastTime) );
           		notifyListeners(getTimeRange());
		}
        
        fNbEvents = nbEvents;
        
        if ( showDebug == true ) {
	        for ( int pos=0; pos < fCheckpoints.size(); pos++) {
	        	System.out.print(pos + ": " + "\t");
	        	System.out.print( fCheckpoints.get(pos).getTimestamp() + "\t" );
	        	System.out.println( fCheckpoints.get(pos).getLocation() );
	        }
        }
        
    }

