	/**
	 * Notify listeners, no more events for the current request will be distributed e.g. update view.
	 */
	public synchronized void handleProviderDone() {
		// TODO: The use of a thread per main request and thread per sub-request
		// requires
		// to make sure the proper main request is marked completed. So a
		// relationship of sub-requests to parent needs to be established to
		// handle completion and cancellations properly

		// Close the main request when all sub-requests are marked completed
		for (LttngBaseEventRequest subRequest : fEventProviderRequests.values()) {
			if (subRequest != null) {
				if (!subRequest.isCompleted()) {
					// Not ready to complete main request
					return;
				}
			}
		}

		// Notify application. One notification per trace so the last state of each trace can be
		// drawn
		LttngTraceState traceModel;
		for (IStateTraceManager traceMgr : fEventProviderRequests.keySet()) {
			traceModel = traceMgr.getStateModel();

			LttngSyntheticEvent finishEvent = new LttngSyntheticEvent(fStatusEvent);
			// finishEvent.setTraceModel(traceModel);
			// finishEvent.setParentTrace((TmfTrace<LttngEvent>) traceModel.getContext().getTraceIdRef());
			finishEvent.setSequenceInd(SequenceInd.ENDREQ);
			finishEvent.setTraceModel(traceModel);

			LttngSyntheticEvent[] result = new LttngSyntheticEvent[1];
			// End Request indication
			result[0] = finishEvent;
			fmainRequest.setData(result);
			fmainRequest.handleData();

			// // End Request processed indication
			// result[0] = fStatusEventAck;
			// fmainRequest.setData(result);
			// fmainRequest.handleData();
		}

		// All sub-requests are marked completed so the main request can be completed as well
		fmainRequest.done();

		// try {
		// queueResult(finishEvent);
		// queueResult(fStatusEventAck);
		// // End the loop in the main request
		// queueResult(LttngSyntheticEvent.NullEvent);
		// } catch (InterruptedException e) {
		// // System.out.println(getName() +
		// // ":handleProviderDone() failed to queue request");
		// // TODO: Cancel the request
		// // e.printStackTrace();
		// }
	}

