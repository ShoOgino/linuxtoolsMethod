    /**
     * Parse all fields and return them as an array of LttngFields.<p>
     * 
     * Note : This function is heavy and should only be called if all fields are really needed.
     * 
     * @return  All fields.
     * 
     * @see @see org.eclipse.linuxtools.lttng.event.LttngEventField
     */
    @Override
    public synchronized LttngEventField[] getFields() {
        
        
        if ( fFieldsMap.size() < fParentEvent.getType().getNbFields() ) {
        	LttngEventField tmpField = null;
        	LttngEventType tmpType = (LttngEventType)fParentEvent.getType();
        	
	        for ( int pos=0; pos<tmpType.getNbFields(); pos++ ) {
	            String name = null;
				try {
					name = tmpType.getLabel(pos);
				} catch (TmfNoSuchFieldException e) {
				}
	            JniEvent tmpEvent = ((LttngEvent)getEvent()).convertEventTmfToJni();
	            
	            if ( tmpEvent != null ) {
		            Object newValue = tmpEvent.parseFieldByName(name);
		            tmpField = new LttngEventField(this, name, newValue );
		            fFieldsMap.put(name, tmpField);
	            }
	        }
        }
        return fFieldsMap.values().toArray(new LttngEventField[fFieldsMap.size()]);
    }

