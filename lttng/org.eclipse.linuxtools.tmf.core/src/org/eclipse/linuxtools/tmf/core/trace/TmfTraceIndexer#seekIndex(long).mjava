    @Override
    public ITmfContext seekIndex(final long rank) {

        // Position the stream at the previous checkpoint
        int index = (int) rank / fCheckpointInterval;
        ITmfLocation<?> location;
        synchronized (fTraceIndex) {
            if (fTraceIndex.isEmpty()) {
                location = null;
            } else {
                if (index >= fTraceIndex.size()) {
                    index = fTraceIndex.size() - 1;
                }
                location = fTraceIndex.elementAt(index).getLocation();
            }
        }

        final ITmfContext context = fTrace.seekLocation(location);
        final long pos = index * fCheckpointInterval;
        context.setRank(pos);

        return context;
    }

