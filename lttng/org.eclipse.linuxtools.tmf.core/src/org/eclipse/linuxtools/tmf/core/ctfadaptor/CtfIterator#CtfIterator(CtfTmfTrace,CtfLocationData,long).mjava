    /**
     * Constructor for CtfIterator.
     *
     * @param trace
     *            CtfTmfTrace the trace
     * @param ctfLocationData
     *            long the timestamp in ns of the trace for positioning
     * @param rank
     *            long the index of the trace for positioning
     * @since 2.0
     */
    public CtfIterator(final CtfTmfTrace trace,
            final CtfLocationData ctfLocationData, final long rank) {
        super(trace.getCTFTrace());

        this.ctfTmfTrace = trace;
        if (this.hasMoreEvents()) {
            this.curLocation = new CtfLocation(ctfLocationData);
            if (this.getCurrentEvent().getTimestampValue() != ctfLocationData.getTimestamp()) {
                this.seek(ctfLocationData);
                this.curRank = rank;
            }
        } else {
            setUnknownLocation();
        }

    }

