    /**
     * Get the trace set of a given trace or experiment, including the
     * experiment. For a standard trace, this is simply a set containing only
     * that trace. For experiments, it is the set of all the traces contained in
     * this experiment, along with the experiment.
     *
     * @param trace
     *            The trace or experiment
     * @return The corresponding trace set, including the experiment
     * @since 3.1
     */
    public static @NonNull Set<ITmfTrace> getTraceSetWithExperiment(ITmfTrace trace) {
        if (trace == null) {
            @SuppressWarnings("null")
            @NonNull Set<ITmfTrace> emptySet = Collections.EMPTY_SET;
            return emptySet;
        }
        if (trace instanceof TmfExperiment) {
            TmfExperiment exp = (TmfExperiment) trace;
            ITmfTrace[] traces = exp.getTraces();
            Set<ITmfTrace> alltraces = new LinkedHashSet<>(Arrays.asList(traces));
            alltraces.add(exp);
            return alltraces;
        }
        @SuppressWarnings("null")
        @NonNull Set<ITmfTrace> singleton = Collections.singleton(trace);
        return singleton;
    }

