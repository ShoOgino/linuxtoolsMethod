    /**
     * Manual constructor. This should be used if the trace's Resource is null
     * (ie, for unit tests). It requires specifying the location of the history
     * file manually.
     *
     * @param trace
     *            The trace for which we build these statistics
     * @param historyFile
     *            The location of the state history file to build for the stats
     * @throws TmfTraceException
     *             If the file could not be written to
     */
    public TmfStateStatistics(ITmfTrace trace, File historyFile) throws TmfTraceException {
        this.trace = trace;
        final IStateChangeInput htInput = new StatsStateProvider(trace);
        this.stats = StateSystemManager.loadStateHistory(historyFile, htInput, true);
    }

