    @Override
    public long getEventsTotal() {
        long start = stats.getStartTime();
        long end = stats.getCurrentEndTime();
        int countAtStart = 0, countAtEnd = 0;

        try {
            final int quark = stats.getQuarkAbsolute(Attributes.TOTAL);
            countAtStart = stats.querySingleState(start, quark).getStateValue().unboxInt();
            countAtEnd = stats.querySingleState(end, quark).getStateValue().unboxInt();
        } catch (AttributeNotFoundException e) {
            e.printStackTrace();
        } catch (StateValueTypeException e) {
            e.printStackTrace();
        } catch (TimeRangeException e) {
            /* Should not happen, we're clamped to the start and end times */
            e.printStackTrace();
        }

        long total = countAtEnd - countAtStart;
        return total;
    }

