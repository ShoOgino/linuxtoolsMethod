    private long checkEndTime(long initialEnd) {
        long end = initialEnd;
        if (end > stats.getCurrentEndTime()) {
            return stats.getCurrentEndTime();
        }
        return end;
    }

