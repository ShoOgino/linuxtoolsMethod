    /**
     * Test method for
     * {@link org.eclipse.linuxtools.tmf.ui.views.histogram.HistogramDataModel#scaleTo(int,int,int)}
     * .
     */
    public void testScaleTo_6() {
        final int nbBuckets = 100;
        final int maxHeight = 24;
        final int nbEvents = 2 * nbBuckets + 1;
        final int[] expectedResult = new int[] { 24, 24, 24, 24, 24, 24, 24, 24, 9, 0 };

        HistogramDataModel model = new HistogramDataModel(nbBuckets);
        for (int i = 0; i < nbEvents; i++) {
            model.countEvent(i, i);
        }

        HistogramScaledData result = model.scaleTo(10, maxHeight, 1);
        for (int i = 0; i < result.fData.length; i++) {
            assertTrue(result.fData[i] == expectedResult[i]);
        }

        assertTrue(model.getNbEvents() == nbEvents);
        assertTrue(model.getNbBuckets() == nbBuckets);
        assertTrue(model.getBucketDuration() == 4);
        assertTrue(model.getFirstBucketTime() == 0);
        assertTrue(model.getStartTime() == 0);
        assertTrue(model.getEndTime() == nbEvents - 1);
        assertTrue(model.getTimeLimit() == 4 * nbBuckets);
    }

