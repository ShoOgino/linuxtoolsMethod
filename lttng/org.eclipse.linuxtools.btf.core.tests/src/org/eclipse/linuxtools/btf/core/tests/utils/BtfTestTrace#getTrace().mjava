    /**
     * Return a ITmfTrace object of this test trace. It will be already
     * initTrace()'ed. This method will always return a new trace and dispose of
     * the old one.
     *
     * After being used by unit tests, traces must be properly disposed of by
     * calling the {@link BtfTestTrace#dispose()} method.
     *
     * @return A {@link ITmfTrace} reference to this trace
     */
    public BtfTrace getTrace() {
        if (fTrace != null) {
            fTrace.dispose();
        }
        Bundle bundle = BtfTestPlugin.getBundle();
        Path path = new Path(fDirectory + File.separator + fPath);
        final URL location = FileLocator.find(bundle,path, null);
            File test;
            try {
                test = new File(FileLocator.toFileURL(location).toURI());
                fTrace = new BtfTrace();
                fTrace.initTrace(null, test.getAbsolutePath(), null);
            } catch (URISyntaxException | IOException | TmfTraceException e) {
                throw new RuntimeException(e);
            }
        return fTrace;
    }

