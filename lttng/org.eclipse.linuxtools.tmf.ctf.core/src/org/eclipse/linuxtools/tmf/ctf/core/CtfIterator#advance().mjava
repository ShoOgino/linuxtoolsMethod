    @Override
    public synchronized boolean advance() {
        long index = fCurLocation.getLocationInfo().getIndex();
        long timestamp = fCurLocation.getLocationInfo().getTimestamp();
        boolean ret = false;
        try {
            ret = super.advance();
        } catch (CTFReaderException e) {
            Activator.getDefault().logError(e.getMessage(), e);
        }

        if (ret) {
            final long timestampValue = getCurrentEvent().getTimestamp().getValue();
            if (timestamp == timestampValue) {
                fCurLocation = new CtfLocation(timestampValue, index + 1);
            } else {
                fCurLocation = new CtfLocation(timestampValue, 0L);
            }
        } else {
            fCurLocation = NULL_LOCATION;
        }
        return ret;
    }

