    /**
     * Listen to trace closed so that we can stop the relayd job.
     *
     * @param signal
     *            the signal to be processed
     */
    @TmfSignalHandler
    public void traceClosed(final TmfTraceClosedSignal signal) {
        LttngRelaydConnectionInfo entry;
        try {
            entry = getEntry(signal.getTrace());
            if (entry != null) {
                LttngRelaydConsumer comsumer = getConsumer(entry);
                if (comsumer != null) {
                    comsumer.dispose();
                }
                fConnections.remove(entry);
            }
        } catch (CoreException e) {
            // Something went wrong with the resource. That's OK, the trace is
            // getting closed anyway.
        }
    }

