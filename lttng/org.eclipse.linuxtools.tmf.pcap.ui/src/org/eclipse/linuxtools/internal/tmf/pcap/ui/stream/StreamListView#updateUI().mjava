    private void updateUI() {
        final Display display = Display.getDefault();
        if (display == null || display.isDisposed()) {
            return;
        }
        display.asyncExec(new Runnable() {

            @Override
            public void run() {
                if (display.isDisposed()) {
                    return;
                }
                ITmfTrace trace = fCurrentTrace;
                if (trace == null) {
                    return;
                }

                StreamListAnalysis analysis = trace.getAnalysisModuleOfClass(StreamListAnalysis.class, StreamListAnalysis.ID);
                if (analysis == null) {
                    return;
                }

                Map<TmfPcapProtocol, Table> tables = fTableMap;
                if (tables == null) {
                    return;
                }
                for (TmfPcapProtocol p : tables.keySet()) {
                    @SuppressWarnings("null")
                    @NonNull TmfPcapProtocol protocol = p;
                    TmfPacketStreamBuilder builder = analysis.getBuilder(protocol);
                    if (builder != null && !(tables.get(protocol).isDisposed())) {
                        for (TmfPacketStream stream : builder.getStreams()) {

                            TableItem item;
                            if (stream.getID() < tables.get(protocol).getItemCount()) {
                                item = tables.get(protocol).getItem(stream.getID());
                            } else {
                                item = new TableItem(tables.get(protocol), SWT.NONE);
                            }
                            item.setText(0, String.valueOf(stream.getID()));
                            item.setText(1, stream.getFirstEndpoint().toString());
                            item.setText(2, stream.getSecondEndpoint().toString());
                            item.setText(3, String.valueOf(stream.getNbPackets()));
                            item.setText(4, String.valueOf(stream.getNbBytes()));
                            item.setText(5, String.valueOf(stream.getNbPacketsAtoB()));
                            item.setText(6, String.valueOf(stream.getNbBytesAtoB()));
                            item.setText(7, String.valueOf(stream.getNbPacketsBtoA()));
                            item.setText(8, String.valueOf(stream.getNbBytesBtoA()));
                            item.setText(9, stream.getStartTime().toString());
                            item.setText(10, stream.getStopTime().toString());
                            item.setText(11, String.format("%.3f", stream.getDuration())); //$NON-NLS-1$
                            item.setText(12, String.format("%.3f", stream.getBPSAtoB())); //$NON-NLS-1$
                            item.setText(13, String.format("%.3f", stream.getBPSBtoA())); //$NON-NLS-1$
                            item.setData(KEY_STREAM, stream);
                        }
                    }
                }
            }

        });
    }

