    @SuppressWarnings("unchecked")
    @Override
    public ITmfContext armRequest(final ITmfDataRequest<TmfSyntheticEventStub> request) {

        // Get the TmfSyntheticEventStub provider
        final ITmfDataProvider<TmfEvent>[] eventProviders = (ITmfDataProvider<TmfEvent>[]) TmfProviderManager.getProviders(TmfEvent.class, TmfEventProviderStub.class);
        final ITmfDataProvider<TmfEvent> provider = eventProviders[0];

        // make sure we have the right type of request
        if (!(request instanceof ITmfEventRequest<?>)) {
            request.cancel();
            return null;
        }

        final TmfEventRequest<TmfSyntheticEventStub> eventRequest = (TmfEventRequest<TmfSyntheticEventStub>) request;
        final TmfTimeRange range = eventRequest.getRange();
        final TmfEventRequest<TmfEvent> subRequest =
                new TmfEventRequest<TmfEvent>(TmfEvent.class, range, NB_EVENTS, BLOCK_SIZE) {
            @Override
            public void handleData(final TmfEvent event) {
                super.handleData(event);
                if (event != null)
                    handleIncomingData(event);
                else
                    request.done();
            }
        };
        provider.sendRequest(subRequest);

        // Return a dummy context
        return new TmfContext();
    }

