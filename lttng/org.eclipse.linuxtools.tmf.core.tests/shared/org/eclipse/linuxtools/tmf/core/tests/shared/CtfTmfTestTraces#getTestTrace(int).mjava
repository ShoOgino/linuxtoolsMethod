    /**
     * Get a reference to the test trace used for the kernel event handler unit
     * tests.
     *
     * Make sure you call {@link #tracesExist()} before calling this!
     *
     * @param idx
     *            The index of the test trace you want
     * @return A CtfTmfTrace reference to the test trace
     */
    public synchronized static CtfTmfTrace getTestTrace(int idx) {
        if (testTraces[idx] == null) {
            String tracePath = CtfTestTraces.getTestTracePath(idx);
            testTraces[idx] = new CtfTmfTrace();
            try {
                testTraces[idx].initTrace(null, tracePath, CtfTmfEvent.class);
            } catch (TmfTraceException e) {
                /* Should not happen if tracesExist() passed */
                testTraces[idx] = null;
                throw new RuntimeException(e);
            }
        }
        return testTraces[idx];
    }

