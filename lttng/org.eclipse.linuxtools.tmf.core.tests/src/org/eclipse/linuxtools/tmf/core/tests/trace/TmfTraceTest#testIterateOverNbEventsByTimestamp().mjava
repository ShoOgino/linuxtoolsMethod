    public void testIterateOverNbEventsByTimestamp() {
        final Vector<ITmfEvent> requestedEvents = new Vector<ITmfEvent>();
        final ITmfTimestamp startEventTimestamp = new TmfTimestamp(100, SCALE);
        final int nbRequestedEvents = 100;

        final ITmfEventProvider[] providers = TmfProviderManager.getProviders(TmfEvent.class, TmfTraceStub.class);
        final ITmfTrace trace = (ITmfTrace) providers[0];
        final Iterator<ITmfEvent> it = trace.iterator(startEventTimestamp);
        int nbEventsToRead = nbRequestedEvents;
        while (it.hasNext() && nbEventsToRead-- > 0) {
            requestedEvents.add(it.next());
        }

        // Validate results
        assertEquals("nbEvents", nbRequestedEvents, requestedEvents.size());
        for (int i = 0; i < nbRequestedEvents; i++) {
            assertEquals("Distinct events", startEventTimestamp.getValue() + i, requestedEvents.get(i).getTimestamp().getValue());
        }
    }

