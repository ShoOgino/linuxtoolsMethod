    public void testIterateOverAllEvents() {
        final Vector<ITmfEvent> requestedEvents = new Vector<ITmfEvent>();

        final ITmfEventProvider[] providers = TmfProviderManager.getProviders(TmfEvent.class, TmfTraceStub.class);
        final ITmfTrace trace = (ITmfTrace) providers[0];
        final Iterator<ITmfEvent> it = trace.iterator();
        while (it.hasNext()) {
            requestedEvents.add(it.next());
        }

        // Validate results
        assertEquals("nbEvents", NB_EVENTS, requestedEvents.size());
        for (int i = 0; i < NB_EVENTS; i++) {
            assertEquals("Distinct events", i + 1, requestedEvents.get(i).getTimestamp().getValue());
        }
    }

