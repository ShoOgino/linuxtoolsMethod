    public void testNormalizedScaleLimits() throws Exception {
        int MAX_SCALE_DIFF = 19;

        // Test below limit
        try {
            ts1.normalize(0, +MAX_SCALE_DIFF - 1);
            ts1.normalize(0, -MAX_SCALE_DIFF + 1);
        } catch (ArithmeticException e) {
            fail();
        }

        // Test at limit
        try {
            ts1.normalize(0, +MAX_SCALE_DIFF);
            fail();
            ts1.normalize(0, -MAX_SCALE_DIFF);
            fail();
        } catch (ArithmeticException e) {
        }

        // Test over limit
        try {
            ts1.normalize(0, +MAX_SCALE_DIFF + 1);
            fail();
            ts1.normalize(0, -MAX_SCALE_DIFF - 1);
            fail();
        } catch (ArithmeticException e) {
        }
    }

