    @Test
    public void testTmfRequestBlock() {

        // 1. All events
        ITmfRequest request = new TmfRequestStub(0, ALL_EVENTS);
        fLastRequestId++;

        assertEquals("getRequestId", fLastRequestId, request.getRequestId());
        assertEquals("getRequestPriority", NORMAL, request.getRequestPriority());
        assertEquals("getTimeRange", ETERNITY, request.getTimeRange());
        assertEquals("getNbRequested", ALL_EVENTS, request.getNbRequested());
        assertEquals("getStartIndex", 0, request.getStartIndex());

        assertEquals("getNbEventsRead", 0, request.getNbEventsRead());
        assertEquals("getState", PENDING, request.getState());
        assertFalse("isRunning", request.isRunning());
        assertFalse("isCompleted", request.isCompleted());

        assertNull("getStatus", request.getStatus());
        assertFalse("isOK", request.isOK());
        assertFalse("isFailed", request.isFailed());
        assertFalse("isCancelled", request.isCancelled());

        // 2. For an event count
        long nbRequested = 10000;
        request = new TmfRequestStub(0, nbRequested);
        fLastRequestId++;

        assertEquals("getRequestId", fLastRequestId, request.getRequestId());
        assertEquals("getRequestPriority", NORMAL, request.getRequestPriority());
        assertEquals("getTimeRange", ETERNITY, request.getTimeRange());
        assertEquals("getNbRequested", nbRequested, request.getNbRequested());
        assertEquals("getStartIndex", 0, request.getStartIndex());

        assertEquals("getNbEventsRead", 0, request.getNbEventsRead());
        assertEquals("getState", PENDING, request.getState());
        assertFalse("isRunning", request.isRunning());
        assertFalse("isCompleted", request.isCompleted());

        assertNull("getStatus", request.getStatus());
        assertFalse("isOK", request.isOK());
        assertFalse("isFailed", request.isFailed());
        assertFalse("isCancelled", request.isCancelled());

        // 3. From a given index
        long index = 100;
        request = new TmfRequestStub(index, ALL_EVENTS);
        fLastRequestId++;

        assertEquals("getRequestId", fLastRequestId, request.getRequestId());
        assertEquals("getRequestPriority", NORMAL, request.getRequestPriority());
        assertEquals("getTimeRange", ETERNITY, request.getTimeRange());
        assertEquals("getNbRequested", ALL_EVENTS, request.getNbRequested());
        assertEquals("getStartIndex", index, request.getStartIndex());

        assertEquals("getNbEventsRead", 0, request.getNbEventsRead());
        assertEquals("getState", PENDING, request.getState());
        assertFalse("isRunning", request.isRunning());
        assertFalse("isCompleted", request.isCompleted());

        assertNull("getStatus", request.getStatus());
        assertFalse("isOK", request.isOK());
        assertFalse("isFailed", request.isFailed());
        assertFalse("isCancelled", request.isCancelled());

        // 4. From a given index, for an event count
        request = new TmfRequestStub(index, nbRequested);
        fLastRequestId++;

        assertEquals("getRequestId", fLastRequestId, request.getRequestId());
        assertEquals("getRequestPriority", NORMAL, request.getRequestPriority());
        assertEquals("getTimeRange", ETERNITY, request.getTimeRange());
        assertEquals("getNbRequested", nbRequested, request.getNbRequested());
        assertEquals("getStartIndex", index, request.getStartIndex());

        assertEquals("getNbEventsRead", 0, request.getNbEventsRead());
        assertEquals("getState", PENDING, request.getState());
        assertFalse("isRunning", request.isRunning());
        assertFalse("isCompleted", request.isCompleted());

        assertNull("getStatus", request.getStatus());
        assertFalse("isOK", request.isOK());
        assertFalse("isFailed", request.isFailed());
        assertFalse("isCancelled", request.isCancelled());
    }

