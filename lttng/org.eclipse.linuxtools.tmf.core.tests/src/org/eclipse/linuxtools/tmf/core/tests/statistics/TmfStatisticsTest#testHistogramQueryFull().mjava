    /**
     * Test the {@link ITmfStatistics#histogramQuery} method over the whole
     * trace.
     */
    @Test
    public void testHistogramQueryFull() {
        final int NB_REQ = 10;
        List<Long> results = backend.histogramQuery(tStart, tEnd, NB_REQ);

        /* Make sure the returned array has the right size */
        assertEquals(NB_REQ, results.size());

        /* Check the total number of events */
        long count = 0;
        for (long val : results) {
            count += val;
        }
        assertEquals(totalNbEvents, count);

        /* Check the contents of each "bucket" */
        assertEquals(94161, results.get(0).longValue());
        assertEquals(87348, results.get(1).longValue());
        assertEquals(58941, results.get(2).longValue());
        assertEquals(59879, results.get(3).longValue());
        assertEquals(66941, results.get(4).longValue());
        assertEquals(68939, results.get(5).longValue());
        assertEquals(72746, results.get(6).longValue());
        assertEquals(60749, results.get(7).longValue());
        assertEquals(61208, results.get(8).longValue());
        assertEquals(64407, results.get(9).longValue());
    }

