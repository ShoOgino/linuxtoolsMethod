    /**
     * Test suite for analysis module
     * {@link TmfAbstractAnalysisModule#waitForCompletion} with successful
     * execution
     */
    @Test
    public void testWaitForCompletionSuccess() {
        try (TestAnalysis module = setUpAnalysis();) {

            IStatus status = module.schedule();
            assertEquals(IStatus.ERROR, status.getSeverity());

            /* Set a stub trace for analysis */
            try {
                module.setTrace(TmfTestTrace.A_TEST_10K.getTrace());
            } catch (TmfAnalysisException e) {
                fail(e.getMessage());
            }

            /* Default execution, with output 1 */
            module.setParameter(TestAnalysis.PARAM_TEST, 1);
            status = module.schedule();
            assertEquals(Status.OK_STATUS, status);
            boolean completed = module.waitForCompletion();

            assertTrue(completed);
            assertEquals(1, module.getAnalysisOutput());
        }
    }

