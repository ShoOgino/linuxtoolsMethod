    @Test
    public void testCurrentTimeValues() throws TmfTraceException {

        TmfTraceStub trace = null;
        File testfile = null;
        try {
            final URL location = FileLocator.find(TmfCoreTestPlugin.getDefault().getBundle(), new Path(DIRECTORY + File.separator + TEST_STREAM), null);
            testfile = new File(FileLocator.toFileURL(location).toURI());
            trace = new TmfTraceStub(testfile.toURI().getPath());
            // verify initial values
            TmfTimestamp defaultInitRange = new TmfTimestamp(DEFAULT_INITIAL_OFFSET_VALUE, ITmfTimestamp.NANOSECOND_SCALE);
            assertEquals("getInitialRangeOffset", defaultInitRange, trace.getInitialRangeOffset());
            assertEquals("getCurrentTime", TmfTimestamp.ZERO, trace.getCurrentTime());
            assertEquals("getCurrentRange", TmfTimeRange.NULL_RANGE, trace.getCurrentRange());
            trace.setInitialRangeOffset(new TmfTimestamp(5, ITmfTimestamp.MILLISECOND_SCALE));
            trace.indexTrace(true);
        } catch (final URISyntaxException e) {
            fail("URISyntaxException");
        } catch (final IOException e) {
            fail("IOException");
        }
        assertFalse ("Open trace", trace == null);

        TmfTimestamp initRange = new TmfTimestamp(5, ITmfTimestamp.MILLISECOND_SCALE);
        assertEquals("getInitialRangeOffset", initRange, trace.getInitialRangeOffset());
        assertEquals("getCurrentTime", trace.getTimeRange().getStartTime(), trace.getCurrentTime());

        ITmfTimestamp startTimestamp = trace.getTimeRange().getStartTime();
        long endValue = startTimestamp.getValue() + initRange.normalize(0, startTimestamp.getScale()).getValue();
        ITmfTimestamp endTimestamp = new TmfTimestamp(endValue, startTimestamp.getScale());
        TmfTimeRange expectedRange = new TmfTimeRange(startTimestamp, endTimestamp);
        assertEquals("getCurrentRange", expectedRange, trace.getCurrentRange());
    }

