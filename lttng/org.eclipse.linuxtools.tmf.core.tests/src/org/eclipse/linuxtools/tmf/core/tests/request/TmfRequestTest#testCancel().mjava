    @Test
    public void testCancel() {

        final boolean[] flags = new boolean[4];
        ITmfRequest request = setupDummyRequest(flags);
        request.cancel();

        assertFalse("isRunning", request.isRunning());
        assertTrue("isCompleted", request.isCompleted());
        assertEquals("getState", COMPLETED, request.getState());

        assertEquals("getStatus", IStatus.CANCEL, request.getStatus().getSeverity());
        assertFalse("isOK", request.isOK());
        assertFalse("isFailed", request.isFailed());
        assertTrue("isCancelled", request.isCancelled());

        assertTrue("handleCompleted", flags[0]);
        assertFalse("handleSuccess",  flags[1]);
        assertFalse("handleFailure",  flags[2]);
        assertTrue("handleCancel",    flags[3]);
    }

