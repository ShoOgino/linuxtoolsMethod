	public void run(IAction action) {
		if (selection instanceof IStructuredSelection) {
			for (Object element : ((IStructuredSelection) selection).toList()) {
				IFile rpmFile = null;
				if (element instanceof IFile) {
					rpmFile = (IFile) element;
				} else if (element instanceof IAdaptable) {
					rpmFile = (IFile) ((IAdaptable) element)
							.getAdapter(IFile.class);
				}
				if (rpmFile != null) {
					try {
						Process child = new ProcessBuilder(Activator
								.getRpmlintPath(), "-i", rpmFile.getLocation() //$NON-NLS-1$
								.toString()).start();
						BufferedInputStream in = new BufferedInputStream(child
								.getInputStream());
						BufferedReader is = new BufferedReader(
								new InputStreamReader(in));
						String line;
						MessageConsole myConsole = findConsole(Messages.RunRpmlintAction_0);
						MessageConsoleStream out = myConsole.newMessageStream();
						myConsole.activate();
						while ((line = is.readLine()) != null) {
							out.println(line);
						}

					} catch (IOException e) {
						// FIXME: rpmlint is not installed in the default place
						// -> ask user to open the prefs page.
						RpmlintLog.logError(e);
					}
				}
			}
		}

	}

