    private int getUniquePatchId(ArrayList<String> patchlist, int patch_ctr) {
        int patch_array_size = patchlist.size();
        int patch_num;
        String last_patch = patchlist.get(patch_array_size - 1);
        int indx = 5;

        while (last_patch.charAt(indx) != ':') {
            indx++;
        }

        // Allow for the fact that there could only be one patch statement of the
        // form "Patch:", that is, there is no number
        if (indx == 5) {
            return 0;
        }

        String num = last_patch.substring(5, indx);

        try {
            patch_num = Integer.parseInt(num, 10);
        } catch (NumberFormatException e) {
            return -1;
        }

        return patch_num + 1;
    }

