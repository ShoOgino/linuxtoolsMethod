	/**
	 * Constructs a new RPM object.
	 * 
	 * @param config
	 *            the RPM configuration to use
	 */
	public RPM(RPMConfiguration config) {
		IEclipsePreferences node = new DefaultScope().getNode(RPMCorePlugin.ID);
		rpmCmd = node.get(IRPMConstants.RPM_CMD, ""); //$NON-NLS-1$
		String[] tmpMacroDefines = {
				rpmCmd,
				"-v", //$NON-NLS-1$
				DEFINE, "_sourcedir " //$NON-NLS-1$
						+ config.getSourcesFolder().getLocation().toOSString(),
				DEFINE, "_srcrpmdir " + //$NON-NLS-1$
						config.getSrpmsFolder().getLocation().toOSString(),
				DEFINE, "_builddir " + //$NON-NLS-1$
						config.getBuildFolder().getLocation().toOSString(),
				DEFINE, "_rpmdir " + //$NON-NLS-1$
						config.getRpmsFolder().getLocation().toOSString(),
				DEFINE, "_specdir " + //$NON-NLS-1$
						config.getSpecsFolder().getLocation().toOSString() };
		this.macroDefines = tmpMacroDefines;
	}

