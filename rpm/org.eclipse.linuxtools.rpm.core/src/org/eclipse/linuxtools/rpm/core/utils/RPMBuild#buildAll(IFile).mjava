	/**
	 * Builds both a binary and source RPM for a given spec file.
	 * @param specFile the spec file
	 * @throws CoreException if the operation fails
	 */
    public void buildAll(IFile specFile) throws CoreException {
        String command = rpmBuildCmd;
        command += macroDefines;
        command += " -ba " + specFile.getLocation().toOSString(); //$NON-NLS-1$
        ShellScript script = new ShellScript(command, 0);
		script.exec();
    }

