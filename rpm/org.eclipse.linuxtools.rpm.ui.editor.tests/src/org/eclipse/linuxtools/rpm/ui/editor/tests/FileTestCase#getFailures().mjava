	protected SpecfileTestFailure[] getFailures() {
		ArrayList<SpecfileTestFailure> failures = new ArrayList<SpecfileTestFailure>();
		try {
			IAnnotationModel model = SpecfileEditor.getSpecfileDocumentProvider().getAnnotationModel(fei);
			for (Iterator<Annotation> i = model.getAnnotationIterator(); i.hasNext(); ) {
				Annotation annotation = i.next();
				Position p = model.getPosition(annotation);
				SpecfileTestFailure t = new SpecfileTestFailure(annotation, p);
				failures.add(t);
			}
			return failures.toArray(new SpecfileTestFailure[failures.size()]);
		} catch (Exception e) {
			fail(e.getMessage());
		}
		return null;
	}

