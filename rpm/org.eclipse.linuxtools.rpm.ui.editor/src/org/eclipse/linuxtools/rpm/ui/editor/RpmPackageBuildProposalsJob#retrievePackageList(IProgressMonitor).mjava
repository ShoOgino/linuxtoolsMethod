	/**
	 * Retrieve the package list
	 * 
	 * @param monitor to update
	 * @return a <code>IStatus</code>
	 */
	private IStatus retrievePackageList(IProgressMonitor monitor) {
		String rpmListCmd = Activator.getDefault().getPreferenceStore().getString(PreferenceConstants.P_CURRENT_RPMTOOLS);
		String rpmListFilepath = Activator.getDefault().getPreferenceStore().getString(PreferenceConstants.P_RPM_LIST_FILEPATH);
		try {
			String[] cmd = new String[] {"/bin/sh", "-c", rpmListCmd};
			monitor.beginTask("Get the list of RPM packages...", IProgressMonitor.UNKNOWN);
			Process child = Runtime.getRuntime().exec(cmd);
			InputStream in = child.getInputStream();
			BufferedWriter out = new BufferedWriter(new FileWriter(rpmListFilepath, false));
			BufferedReader reader = new BufferedReader(new InputStreamReader(in));
			monitor.subTask("Write the list of RPM packages into "
			+ rpmListFilepath + " file ...");
			String line;
			while ((line = reader.readLine()) != null) {
				monitor.subTask("Add package: " + line);
				out.write(line + "\n");
	        }
			in.close();
			out.close();
		} catch (IOException e) {
			SpecfileLog.logError(e);
			return null;
		} finally {
			monitor.done();
		}
		// Update package list
		Activator.packagesList = new RpmPackageProposalsList();
		return Status.OK_STATUS; 
	}

