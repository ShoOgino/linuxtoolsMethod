	/**
	 * Returns <code>true</code> if <code>annotation</code> is visible on
	 * the annotation ruler.
	 * 
	 * @param annotation the annotation to check the visibility of
	 * @return <code>true</code> if <code>annotation</code> is visible on
	 *         the annotation ruler, <code>false</code> otherwise
	 */
	protected final boolean isVisibleOnAnnotationRuler(Annotation annotation) {
		AnnotationPreference preference= getAnnotationPreference(annotation);
		if (preference == null)
			return false;
		
		String key= preference.getVerticalRulerPreferenceKey();
		return key == null || fPreferences.getBoolean(key);
	}

