	private void addFoldingRegions(Set<Position> regions, Object[] elements)
			throws BadLocationException {
		Position position;
		// add folding on the preamble section
		try {
			SpecfileElement element = (SpecfileElement) elements[0];
			position = new Position(0, element.getLineStartPosition() - 1);
			regions.add(position);
		} catch (Exception exception){
			//pass
		}

		for (int i = 0; i < elements.length; i++) {
			SpecfileElement startElement = (SpecfileElement) elements[i];
			int offsetPos = startElement.getLineStartPosition();
			int lenghtPos;
			if (i < elements.length -1) {
				SpecfileElement endElement = (SpecfileElement) elements[i+1];
				lenghtPos = endElement.getLineStartPosition() - startElement.getLineStartPosition() - 1;
			} else {
				lenghtPos = sDocument.getLength() - startElement.getLineStartPosition();
			}
			position = new Position(offsetPos, lenghtPos);
			regions.add(position);
		}
	}

