	private Set<Position> createFoldingStructure(Specfile specfile)
			throws BadLocationException {
		Set<Position> set = new HashSet<Position>();
		
		List<SpecfileElement> elements = new ArrayList<SpecfileElement>();
		elements.addAll(specfile.getSectionsAsList());
		elements.addAll(specfile.getComplexSectionsAsList());
		Collections.sort(elements, new ElementByLineNbrComparator());
		addFoldingRegions(set, elements.toArray());
		return set;
	}

