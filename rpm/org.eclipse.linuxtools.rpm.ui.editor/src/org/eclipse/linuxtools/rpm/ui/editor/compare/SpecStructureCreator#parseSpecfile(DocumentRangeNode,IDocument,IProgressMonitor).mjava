	private void parseSpecfile(DocumentRangeNode root, IDocument doc,
			IProgressMonitor monitor) {
		try {
			String id = "Specfile"; //$NON-NLS-1$
			SpecNode parent = new SpecNode(root, 0, id, doc, 0, doc.getLength());
			SpecfileParser parser = new SpecfileParser();
			Specfile specfile = parser.parse(doc);
			monitor = beginWork(monitor);
			for (SpecfileSection sec : specfile.getSections()) {
				addNode(parent, doc, sec.getName(), sec.getLineStartPosition(),
						sec.getLineEndPosition());
			}
			for (SpecfilePackage sPackage : specfile.getPackages()
					.getPackages()) {
				SpecNode pNode = addNode(parent, doc,
						sPackage.getPackageName(), sPackage
								.getLineStartPosition(), sPackage
								.getLineEndPosition());
				for (SpecfileSection section : sPackage.getSections()) {
					addNode(pNode, doc, section.getName(), section
							.getLineStartPosition(), section
							.getLineEndPosition());
				}
			}
		} finally {
			monitor.done();
		}
	}

