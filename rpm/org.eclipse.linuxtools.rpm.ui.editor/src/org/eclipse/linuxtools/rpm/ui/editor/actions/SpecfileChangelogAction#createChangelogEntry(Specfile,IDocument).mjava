	protected String createChangelogEntry(Specfile specfile, IDocument doc) {
		if (specfile == null)
			return "";
		// FIXME:  this is hack-tastic
//		ChangelogPlugin changelogPlugin = new ChangelogPlugin();
		IPreferenceStore store = new ScopedPreferenceStore(new InstanceScope(),
				"com.redhat.eclipse.changelog.core");
//		IPreferenceStore store = changelogPlugin.getPreferenceStore();

		String name = store.getString("IChangeLogConstants.AUTHOR_NAME"); //$NON-NLS-1$
		String email = store.getString("IChangeLogConstants.AUTHOR_EMAIL"); //$NON-NLS-1$

		Calendar cal = new GregorianCalendar();
		cal.setTime(new Date());
		System.err.println(cal.get(Calendar.DAY_OF_WEEK));
		String date = (new SimpleDateFormat("EEE MMM d yyyy")).format(new Date());
		
		SpecfileElement resolveElement = new SpecfileElement();
		resolveElement.setSpecfile(specfile);
		String epoch = specfile.getEpoch() == -1 ? "": (specfile.getEpoch() + ":");
		String version = specfile.getVersion() == null ? "": resolveElement.resolve(specfile.getVersion());
		String release = specfile.getRelease() == null ? "": resolveElement.resolve(specfile.getRelease());
		
		
		return "* " + date + " " + name + "  <" + email + "> " + epoch + version + "-" + release;
	}

