	public void testMainStackFrame() throws Exception {
		ILaunchConfigurationWorkingCopy wc = initConfig();
		Version ver = ValgrindLaunchPlugin.getDefault().findValgrindVersion();
		if (ver.compareTo(ValgrindLaunchPlugin.VER_3_4_0) >= 0) {
			assertFalse(tab.getMainStackFrameSpinner().isEnabled());
			tab.getMainStackFrameButton().setSelection(true);
			tab.getMainStackFrameButton().notifyListeners(SWT.Selection, null);
			assertTrue(tab.getMainStackFrameSpinner().isEnabled());
			tab.getMainStackFrameSpinner().setSelection(2048);
			ILaunch launch = saveAndLaunch(wc, "testMainStackFrame"); //$NON-NLS-1$
			IProcess[] p = launch.getProcesses();
			if (p.length > 0) {
				String cmd = p[0].getAttribute(IProcess.ATTR_CMDLINE);
				assertEquals(0, p[0].getExitValue());
				assertTrue(cmd.contains("--main-stacksize=2048")); //$NON-NLS-1$
			}
			else {
				fail();
			}
		}
		else {
			assertNull(tab.getMainStackFrameButton());
			assertNull(tab.getMainStackFrameSpinner());
		}
	}

