	public void testMarkers() throws Exception {
		ILaunchConfiguration config = createConfiguration(proj.getProject());
		doLaunch(config, "testDefaults"); //$NON-NLS-1$

		ValgrindViewPart view = ValgrindUIPlugin.getDefault().getView();
		IValgrindMessage[] errors = view.getMessages();

		ArrayList<IMarker> markers = new ArrayList<IMarker>(Arrays.asList(proj
				.getProject().findMarkers(ValgrindLaunchPlugin.MARKER_TYPE,
						true, IResource.DEPTH_INFINITE)));
		assertEquals(4, markers.size());
		for (IValgrindMessage error : errors) {
			findMarker(markers, error);
		}
		assertEquals(0, markers.size());
	}

