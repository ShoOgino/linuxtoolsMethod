	@Override
	protected IContributionItem[] getContributionItems() {
		HistoryEntry[] entries = HistoryFile.getInstance().getEntries();
		List<ActionContributionItem> items = new ArrayList<ActionContributionItem>(entries.length);

		for (int i = 0; i < entries.length; i++) {
			// fill starting from most recent
			ActionContributionItem item = new ActionContributionItem(new HistoryAction(entries[entries.length - 1 - i]));
			items.add(item);
		}
		
		// select most recent if the view has content
		ValgrindViewPart view = ValgrindUIPlugin.getDefault().getView();
		if (view.getDynamicView() != null) {
			items.get(0).getAction().setChecked(true);
		}
		
		return items.toArray(new IContributionItem[items.size()]);
	}

