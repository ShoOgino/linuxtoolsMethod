	public void restoreState(XMLMemento memento) throws CoreException {
		try {
			String configMemento = memento.getString(MementoConstants.ELEMENT_CONFIG);
			ILaunchConfiguration config = DebugPlugin.getDefault().getLaunchManager().getLaunchConfiguration(configMemento);
			MassifPlugin.getDefault().setConfig(config);
			
			// retrieve or create sourceLocator
			ILaunch launch = new Launch(config, ILaunchManager.PROFILE_MODE, null);
			setDefaultSourceLocator(launch, config);			
			MassifPlugin.getDefault().setSourceLocator(launch.getSourceLocator());
			
			File datadir = new File(memento.getString(MementoConstants.ELEMENT_DATADIR));
			File[] massifOutputs = datadir.listFiles(MASSIF_FILTER);
			parseOutput(massifOutputs);
		} catch (IOException e) {
			e.printStackTrace();
			abort(Messages.getString("MassifLaunchDelegate.Error_parsing_output"), e, ICDTLaunchConfigurationConstants.ERR_INTERNAL_ERROR); //$NON-NLS-1$
		}
	}

