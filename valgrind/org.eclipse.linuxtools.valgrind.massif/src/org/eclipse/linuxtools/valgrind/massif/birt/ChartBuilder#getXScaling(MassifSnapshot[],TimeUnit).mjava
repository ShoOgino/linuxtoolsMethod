	private static int getXScaling(MassifSnapshot[] snapshots, TimeUnit unit) {
		long max = snapshots[snapshots.length - 1].getTime();
		int mult, limit;
		switch (unit) {
		case BYTES:
			mult = BYTE_MULT;
			limit = BYTE_LIMIT;
			break;
		case INSTRUCTIONS:
			mult = INSTR_MULT;
			limit = INSTR_LIMIT;
			break;
		default:
			mult = MS_MULT;
			limit = MS_LIMIT;
			break;
		}
		
		int count = 0;
		while (max > mult * SCALING_THRESHOLD && count < limit) {
			max /= mult;
			count++;
		}
		
		return count;
	}

