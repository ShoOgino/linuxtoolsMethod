	@Override
	protected IProcess createNewProcess(ILaunch launch, Process systemProcess,
			String programName) {
		IProcess process;
		if (ValgrindTestsPlugin.RUN_VALGRIND) {
			process = super.createNewProcess(launch, systemProcess, programName);
		}
		else {
			try {
				int exitcode = readErrorCode();
				process = new ValgrindStubProcess(launch, programName, exitcode);
			} catch (IOException e) {
				throw new RuntimeException(e);
			}
		}
		return process;
	}

