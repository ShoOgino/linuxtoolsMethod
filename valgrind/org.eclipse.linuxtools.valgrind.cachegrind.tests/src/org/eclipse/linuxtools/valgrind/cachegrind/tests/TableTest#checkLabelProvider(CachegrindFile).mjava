	private void checkLabelProvider(CachegrindFile file) {
		CachegrindViewPart view = (CachegrindViewPart) ValgrindUIPlugin.getDefault().getView().getDynamicView();
		TreeViewer viewer = view.getViewer();
		
		// collapse the tree, then expand only the interesting item
		viewer.expandToLevel(file, TreeViewer.ALL_LEVELS);
		TreePath path = new TreePath(new Object[] { view.getOutputs()[0], file });
		TreeSelection selection = new TreeSelection(path);
		viewer.setSelection(selection);		
		TreeItem item = viewer.getTree().getSelection()[0];
		
		// ensure the CElementLabelProvider is called correctly
		CElementLabelProvider provider = ((CachegrindLabelProvider) viewer.getLabelProvider(0)).getCLabelProvider();
		assertEquals(provider.getText(file.getModel()), item.getText());
		assertEquals(provider.getImage(file.getModel()), item.getImage());
	}

