	/**
	 * Called by the constructor of this class
	 * @return An array of strings to be executed by the shell
	 */
	protected String[] buildScript() {
		//TODO: Take care of this in the next release. For now only the guru mode is sent
		ArrayList<String> cmdList = new ArrayList<String>();
		String[] script;

		//getImportedTapsets(cmdList);
		if (commands.length() > 0){
			cmdList.add(commands);	
		}
		
		//Execute a binary
		if (needsToSendCommand)
			cmdList.add("-c '" + binaryPath + "'"); //$NON-NLS-1$ //$NON-NLS-2$
		
		
		if (needsArguments) {
			script = new String[cmdList.size() + 3];
			script[script.length-2] = scriptPath;
			script[script.length-1] = arguments; 
		} else {
			script = new String[cmdList.size() + 2];
			script[script.length-1] = scriptPath;
		}
		
		script[0] = PluginConstants.STAP_PATH; //$NON-NLS-1$

		for(int i=0; i< cmdList.size(); i++) {
			if (cmdList.get(i) != null)
				script[i +1] = cmdList.get(i).toString();
			else script[i + 1] = ""; //$NON-NLS-1$
		}
		return script;
		
	}

