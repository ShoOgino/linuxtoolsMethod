	@SuppressWarnings("unchecked")
	@Override
	public Object[] getElements(Object inputElement) {
		if (inputElement instanceof List) {
			for (Object element : (List) inputElement)
				if (element instanceof ICContainer)
					try {
						ICElement[] array = ((ICContainer) element).getChildren();
						ArrayList<ICElement> output = new ArrayList<ICElement>();
						
						for (ICElement item : array) {
							if (item instanceof ICContainer) {
								if (checkForValidChildren((ICContainer) item))
									output.add(item);
							}

							if (item.getElementName().endsWith(".cpp") ||
								item.getElementName().endsWith(".c"))
								output.add(item);
						}
						return output.toArray();
					} catch (CModelException e) {
						e.printStackTrace();
					}		
		}
		return null;
	}

