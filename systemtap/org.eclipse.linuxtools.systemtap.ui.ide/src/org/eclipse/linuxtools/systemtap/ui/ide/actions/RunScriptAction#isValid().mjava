	/**
	 * Checks if the current editor is operating on a file that actually exists and can be 
	 * used as an argument to stap (as opposed to an unsaved buffer).
	 * @return True if the file is valid.
	 */
	protected boolean isValid() {
		IEditorPart ed = fWindow.getActivePage().getActiveEditor();
		if(isValidFile(ed))
		{ 
			if (ed.getEditorInput() instanceof FileStoreEditorInput)
			{
				URI uri = ((FileStoreEditorInput)ed.getEditorInput()).getURI();
				IFileStore location = EFS.getLocalFileSystem().getStore(uri);
				try {
					fileName = location.toLocalFile(EFS.NONE, null).getAbsolutePath();
				} catch (CoreException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			}
			if (ed.getEditorInput() instanceof FileEditorInput)
				fileName = ((FileEditorInput)ed.getEditorInput()).getFile().getFullPath().toString();
			if (ed.getEditorInput() instanceof PathEditorInput)
				fileName = ((PathEditorInput)ed.getEditorInput()).getPath().toString();
		if(isValidDirectory(fileName))
				return true;
		}	
		return true;
	}

