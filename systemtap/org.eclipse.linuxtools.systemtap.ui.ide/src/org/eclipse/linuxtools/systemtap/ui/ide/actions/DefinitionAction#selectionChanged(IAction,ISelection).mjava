	/**
	 * Updates <code>selection</code> with the current selection whenever the user changes
	 * the current selection.
	 */
	public void selectionChanged(IAction action, ISelection selection) {
		if(selection instanceof IStructuredSelection) {
			LogManager.logDebug("this.selection changed: oldValue: "+ this.selection + " newValue: " + selection, this); //$NON-NLS-1$ //$NON-NLS-2$
			this.selection = (IStructuredSelection)selection;
			Object o = this.selection.getFirstElement();
			if(o instanceof TreeDefinitionNode)
			{
				TreeDefinitionNode t = (TreeDefinitionNode)o;
				String s = t.getDefinition();
				if(s != null)
					setEnabled(true);
				else
					setEnabled(false);
			}
			else
				setEnabled(false);
		} else {
			this.setEnabled(false);
		}
	}

