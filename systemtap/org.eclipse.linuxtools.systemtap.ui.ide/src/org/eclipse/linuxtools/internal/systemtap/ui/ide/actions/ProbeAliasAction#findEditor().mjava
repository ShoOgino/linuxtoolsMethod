	private IEditorPart findEditor() {
		final List<IEditorPart> allEditors = new LinkedList<>();
		for (IEditorReference ref : window.getActivePage().getEditorReferences()) {
			IEditorPart editor = getRestoredEditor(ref);
			if (editor instanceof STPEditor) {
				allEditors.add(editor);
			}
		}

		switch (allEditors.size()) {
		// If only one file is found, open it. Give user the option to open another file.
		case 1:
			MessageDialog messageDialog = new MessageDialog(window.getShell(),
					Messages.ProbeAliasAction_DialogTitle, null,
					MessageFormat.format(Messages.ProbeAliasAction_AskBeforeAddMessage,
							allEditors.get(0).getEditorInput().getName() ),
							MessageDialog.QUESTION,
							new String[]{Messages.ProbeAliasAction_AskBeforeAddCancel,
				Messages.ProbeAliasAction_AskBeforeAddAnother,
				Messages.ProbeAliasAction_AskBeforeAddYes}, 2);

			switch (messageDialog.open()) {
			case 2:
				return allEditors.get(0);

			case 1:
				return openNewFile();

			default:
				return null;
			}

			// If no files found, prompt user to open a new file
		case 0:
			return openNewFile();

			// If multiple files found, prompt user to select one of them
		default:
			return openNewFileFromMultiple(allEditors);
		}
	}

