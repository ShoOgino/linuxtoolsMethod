	private STPEditor findEditor() {
		final List<STPEditor> allEditors = new LinkedList<>();
		for (IEditorReference ref : getWindow().getActivePage().getEditorReferences()) {
			IEditorPart editor = getRestoredEditor(ref);
			if (editor instanceof STPEditor) {
				allEditors.add((STPEditor) editor);
			}
		}

		switch (allEditors.size()) {
		// If only one file is found, open it. Give user the option to open another file.
		case 1:
			MessageDialog messageDialog = new MessageDialog(getWindow().getShell(),
					Localization.getString("ProbeAliasAction.DialogTitle"), null, //$NON-NLS-1$
					MessageFormat.format(Localization.getString("ProbeAliasAction.AskBeforeAddMessage"), //$NON-NLS-1$
							allEditors.get(0).getEditorInput().getName() ),
							MessageDialog.QUESTION,
							new String[]{Localization.getString("ProbeAliasAction.AskBeforeAddCancel"), //$NON-NLS-1$
				Localization.getString("ProbeAliasAction.AskBeforeAddAnother"), //$NON-NLS-1$
				Localization.getString("ProbeAliasAction.AskBeforeAddYes")}, 2); //$NON-NLS-1$

			switch (messageDialog.open()) {
			case 2:
				return allEditors.get(0);

			case 1:
				return openNewFile();

			default:
				return null;
			}

		// If no files found, prompt user to open a new file
		case 0:
			return openNewFile();

		// If multiple files found, prompt user to select one of them
		default:
			return openNewFileFromMultiple(allEditors);
		}
	}

