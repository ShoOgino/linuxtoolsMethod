	/**
	 * The main body of the action. This method checks for the current editor, creating one
	 * if there is no active <code>STPEditor</code>, and then inserts a template probe for the
	 * item that the user clicked on.
	 */
	@Override
	public void run() {
		IWorkbenchPage page = getWindow().getActivePage();
		Object o = getSelectedElement();
		if (o instanceof TreeNode) {
			TreeNode t = (TreeNode) o;
			if (t.isClickable()) {
				IEditorPart editor = page.getActiveEditor();
				if (!(editor instanceof STPEditor)) {
					editor = findEditor();
					if (null == editor) {
						return;
					}
				}
				page.activate(editor);
				buildString((STPEditor) editor, (TreeNode) o);
			} else {
				runExpandAction();
			}
		}
	}

