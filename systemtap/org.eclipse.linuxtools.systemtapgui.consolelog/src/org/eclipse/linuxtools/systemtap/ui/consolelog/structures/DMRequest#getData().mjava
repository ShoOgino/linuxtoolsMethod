	/**
	 * Convert all of this packet's fields into a stream of bytes of length
	 * packetsize. Any errors would leave the packet in an unknown state, so
	 * null is returned.
	 * 
	 * @return A stream of bytes representing the packet or null.
	 */
	public byte[] getData() {
		// TODO: close these open streams, if needed
		if (reqType == SUBSCRIBE)
			return getFile();
		else
			return getMessage();
	}

