	/**
	 * Sets up a IDocumentPartitioner object provided the document isn't empty and specifies the partition 
	 * scanners involved.
	 */
	protected void setupDocument(IDocument document) {
		LogManager.logDebug("Start setupDocument: document-" + document, this);
		if (document != null) {
			IDocumentPartitioner partitioner =
				new FastPartitioner(
					new STPPartitionScanner(),
					new String[] {
						STPPartitionScanner.STP_COMMENT,
						STPPartitionScanner.STP_EMBEDDEDC,
						STPPartitionScanner.STP_EMBEDDED});
			partitioner.connect(document);
			document.setDocumentPartitioner(partitioner);
		}
		LogManager.logDebug("End setupDocument:", this);
	}

