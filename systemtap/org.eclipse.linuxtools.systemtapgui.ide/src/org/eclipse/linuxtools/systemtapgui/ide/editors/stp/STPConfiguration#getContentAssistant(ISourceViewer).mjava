	/**
	 * Instantiates and returns a ContentAssistant object and sets the options on it.
	 */
	public IContentAssistant getContentAssistant(ISourceViewer sourceViewer) {
		LogManager.logDebug("Start getContentAssistant: sourceViewer-" + sourceViewer, this);
		ContentAssistant assistant= new ContentAssistant();
		assistant.setDocumentPartitioning(getConfiguredDocumentPartitioning(sourceViewer));
		assistant.setContentAssistProcessor(new STPCompletionProcessor(), IDocument.DEFAULT_CONTENT_TYPE);
	
		assistant.enableAutoActivation(true);
		
		assistant.enableAutoInsert(true);
		assistant.enablePrefixCompletion(true);
		
		IPreferenceStore p = IDEPlugin.getDefault().getPreferenceStore();
		int delay = p.getInt(IDEPreferenceConstants.P_ACTIVATION_DELAY);
		
		assistant.setAutoActivationDelay(delay); // 500
		assistant.setProposalPopupOrientation(IContentAssistant.PROPOSAL_OVERLAY);
		assistant.setContextInformationPopupOrientation(IContentAssistant.CONTEXT_INFO_ABOVE);
		
		//assistant.setContextInformationPopupBackground(colorManager.getColor(new RGB(150,150,000)));
		
		LogManager.logDebug("End getContentAssistant: returnVal-" + assistant, this);
		return assistant;
	}

