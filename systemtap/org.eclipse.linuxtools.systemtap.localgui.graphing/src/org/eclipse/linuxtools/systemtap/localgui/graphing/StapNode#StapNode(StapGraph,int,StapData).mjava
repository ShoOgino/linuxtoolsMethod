	public StapNode(StapGraph graphModel, int style, StapData data) {
		super(graphModel, style, Messages.getString("StapNode.0")); //$NON-NLS-1$
		numberFormat.setMaximumFractionDigits(2);
		numberFormat.setMinimumFractionDigits(2);
		
		
		
		if (data.name == StapGraph.CONSTANT_TOP_NODE_NAME)
			this.setText(StapGraph.CONSTANT_TOP_NODE_NAME);
		else  {
				this.setText(data.name + ": " +  //$NON-NLS-1$
					numberFormat.format((float) data.time/graphModel.getTotalTime()) 
					+ "%"); //$NON-NLS-1$
		}
		
		if (data.markedMessage.length() != 0) {
			Label tooltip = new Label(this.getText() + "\n  " + data.markedMessage); //$NON-NLS-1$
			this.setTooltip(tooltip);
		}
		
		
		this.id = data.id;
		this.connection = null;
		hasButtons = false;
		buttons = new ArrayList<Integer>();
		
//		if (graphModel.isCollapseMode()) {
//		if (!data.noCaller) {
			if (graphModel.getNode(data.caller) != null) {
				this.connection = new GraphConnection( graphModel, style, 
						this, graphModel.getNode(data.caller));
				if (graphModel.isCollapseMode())
					connection.setText("" + data.called); //$NON-NLS-1$
			}
			
			if (graphModel.getNode(data.collapsedCaller) != null) {
				this.connection = new GraphConnection( graphModel, style, 
						this, graphModel.getNode(data.collapsedCaller));
				if (graphModel.isCollapseMode())
					connection.setText("" + data.called); //$NON-NLS-1$
			}
//		}
		
//		}

	}

