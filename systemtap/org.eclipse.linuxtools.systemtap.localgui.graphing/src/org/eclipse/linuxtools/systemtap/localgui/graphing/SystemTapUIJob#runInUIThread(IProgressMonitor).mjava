	@Override
	public IStatus runInUIThread(IProgressMonitor monitor) {
		if (firstRun) {
			firstRun = false;
			SystemTapView.forceDisplay();
			stapview.clearAll();
			SystemTapView.disposeGraph();
		}

		String temp = stapcmd.getText();
		if (temp.length() > 0) {
			if (useColours)
				stapview.prettyPrintln(temp);
			else
				stapview.println(temp);
		}
		stapcmd.setDone();
		
		if (monitor.isCanceled()) {
			return Status.CANCEL_STATUS;
		}

		return Status.OK_STATUS;
	}

