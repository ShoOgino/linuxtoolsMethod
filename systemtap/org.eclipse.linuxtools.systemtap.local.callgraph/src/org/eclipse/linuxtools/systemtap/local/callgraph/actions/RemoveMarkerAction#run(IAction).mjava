	/**
	 * The action has been activated. The argument of the method represents the
	 * 'real' action sitting in the workbench UI.
	 * 
	 * @see IWorkbenchWindowActionDelegate#run
	 */
	public void run(IAction action) {
		IWorkbenchPage page = window.getActivePage();
		IEditorPart part = page.getActiveEditor();
		if (!(part instanceof AbstractTextEditor))
			return;
		ITextEditor editor = (ITextEditor) part;
		IDocumentProvider dp = editor.getDocumentProvider();
		IDocument doc = dp.getDocument(editor.getEditorInput());

		for (int i = 0; i < doc.getNumberOfLines(); i++) {
			try {
				int start = doc.getLineOffset(i);
				int length = doc.getLineLength(i);
				if (doc.get(start, length).contains(stapCommentMarker)) {
					doc.replace(start, length, ""); //$NON-NLS-1$
				}
			} catch (BadLocationException e) {
				e.printStackTrace();
			}
		}
		
		//TODO: Figure out why I need to do this 3 times to remove all STAPSTAPSTAP...
		for (int i = 0; i < doc.getNumberOfLines(); i++) {
			try {
				int start = doc.getLineOffset(i);
				int length = doc.getLineLength(i);
				if (doc.get(start, length).contains(stapCommentMarker)) {
					doc.replace(start, length, ""); //$NON-NLS-1$
				}
			} catch (BadLocationException e) {
				e.printStackTrace();
			}
		}
		
		for (int i = 0; i < doc.getNumberOfLines(); i++) {
			try {
				int start = doc.getLineOffset(i);
				int length = doc.getLineLength(i);
				if (doc.get(start, length).contains(stapCommentMarker)) { //$NON-NLS-1$
					doc.replace(start, length, ""); //$NON-NLS-1$
				}
			} catch (BadLocationException e) {
				e.printStackTrace();
			}
		}
	}

