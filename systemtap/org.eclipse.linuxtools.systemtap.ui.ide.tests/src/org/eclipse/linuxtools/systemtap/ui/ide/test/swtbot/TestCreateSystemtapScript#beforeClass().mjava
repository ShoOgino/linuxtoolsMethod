	@BeforeClass
	public static void beforeClass() {
		bot = new SWTWorkbenchBot();
		stapInstalled = true;

		// Dismiss "Systemtap not installed" dialog(s) if present.
		try {
			SWTBotShell shell = bot.shell("Cannot Run SystemTap").activate();
			stapInstalled = false;
			shell.close();

			shell = bot.shell("Cannot Run SystemTap").activate();
			shell.close();
		} catch (WidgetNotFoundException e) {
			//ignore
		}

		try {
			bot.viewByTitle("Welcome").close();
			// hide Subclipse Usage stats popup if present/installed
			bot.shell("Subclipse Usage").activate();
			bot.button("Cancel").click();
		} catch (WidgetNotFoundException e) {
			//ignore
		}

		// Set SystemTap IDE perspective.
		bot.perspectiveByLabel("SystemTap IDE").activate();
		bot.sleep(500);
		for (SWTBotShell sh : bot.shells()) {
			if (sh.getText().startsWith("SystemTap IDE")) {
				sh.activate();
				bot.sleep(500);
				break;
			}
		}

		// Create a Systemtap project.
		SWTBotMenu fileMenu = bot.menu("File");
		SWTBotMenu newMenu = fileMenu.menu("New");
		SWTBotMenu projectMenu = newMenu.menu("Project...");
		projectMenu.click();

		SWTBotShell shell = bot.shell("New Project");
		shell.setFocus();
		shell.bot().text().setText("Project");
		bot.waitUntil(new NodeAvailableAndSelect(bot.tree(), "General", "Project"));
		bot.button("Next >").click();
		bot.textWithLabel("Project name:").setText(SYSTEMTAP_PROJECT_NAME);
		bot.button("Finish").click();
		bot.waitUntil(Conditions.shellCloses(shell));
		projectExplorer = bot.viewByTitle("Project Explorer");
		projectExplorer.bot().tree().select(SYSTEMTAP_PROJECT_NAME)
			.contextMenu("Go Into").click();

		// Open the Debug view.
		bot.menu("Window").menu("Show View").menu("Other...").click();
		shell = bot.shell("Show View");
		shell.setFocus();
		shell.bot().text().setText("Debug");
		bot.waitUntil(new NodeAvailableAndSelect(bot.tree(), "Debug", "Debug"));
		bot.button("OK").click();
	}

