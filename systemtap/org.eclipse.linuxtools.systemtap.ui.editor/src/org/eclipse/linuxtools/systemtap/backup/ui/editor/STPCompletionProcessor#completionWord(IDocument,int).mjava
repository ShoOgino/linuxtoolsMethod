	/**
	 * 
	 * Return the word the user wants to submit for completion proposals.
	 * 
	 * @param doc - document to insert completion.
	 * @param offset - offset of where completion hint was first generated.
	 * @return - word to generate completion proposals.
	 * 
	 * @throws BadLocationException
	 */
	private String completionWord(IDocument doc, int offset)
			throws BadLocationException {
		try {
			for (int n = offset - 1; n >= 0; n--) {
				char c = doc.getChar(n);
				if ((Character.isSpaceChar(c)) || (c == '\n') || (c == '\0')) {
					String word = doc.get(n + 1, offset - n - 1);
					if (word.charAt(word.length() - 1) == '.')
						return word.substring(0, word.length() - 1);
					else
						return word;
				}
			}
		} catch (BadLocationException e) {
			throw e;
		}
		return "";
	}

