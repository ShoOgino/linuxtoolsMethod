    /**
     * Saves the document contents to a stream.
     *
     * @param document the document to save
     * @param writer the stream to save it to
     * @throws IOException if writing fails
     */
    private static void writeDocumentContent(IDocument document, Writer writer) throws IOException {
        try (Writer out= new BufferedWriter(writer)) {
            out.write(document.get());
        }
    }

