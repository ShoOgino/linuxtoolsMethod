	private Builder buildConnection(final Builder builder,
			final String socketPath,
			final String tcpHost, final String tcpCertPath)
			throws DockerCertificateException {
		final boolean validSocketPath = socketPath != null && !socketPath.isEmpty();
		final boolean validTcpHost = tcpHost != null && !tcpHost.isEmpty();
		final boolean validTcpCertPath = tcpCertPath != null && !tcpCertPath.isEmpty();
		try {
			builder.authConfig(AuthConfig.fromDockerConfig().build());
		} catch (Exception e) {
			// AuthConfig can't be found, continue
		}
		if (validSocketPath) {
			return builder.uri(socketPath);
		} else if (validTcpCertPath && validTcpHost) {
			return builder.uri(URI.create(tcpHost)).dockerCertificates(
					new DockerCertificates(new File(tcpCertPath).toPath()));
		} else if (validTcpHost) {
			return builder.uri(URI.create(tcpHost));
		}
		return null;
	}

