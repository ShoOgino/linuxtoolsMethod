	@Test
	public void testGetSpaceWorkItemsById() throws Exception {
		initSpaces();
		requestProvider.addGetRequest("/namedspaces/user", spaces);
		OSIORestClient client = connector.getClient(repository, requestProvider);
		RepositoryLocation location = client.getClient().getLocation();
		location.setProperty(IOSIORestConstants.REPOSITORY_AUTH_ID, "user");
		location.setProperty(IOSIORestConstants.REPOSITORY_AUTH_TOKEN, "xxxxxxTokenxxxxxx");
		OSIORestConfiguration configuration = connector.getRepositoryConfiguration(repository);
		configuration.getSpaces();
		Map<String, Space> externSpaces = configuration.getExternalSpaces();
		assertTrue(externSpaces != null);
		assertTrue(externSpaces.isEmpty());
		
		Space s1 = client.getSpaceById("SPACE-0001", repository);
		assertTrue(s1 != null);
		assertEquals(s1.getName(), "mywork");
		assertEquals(s1.getId(), "SPACE-0001");
		
		Space s2 = client.getSpaceById("SPACE-0003", repository);
		assertTrue(s2 != null);
		assertEquals(s2.getName(), "mywork");
		assertEquals(s2.getId(), "SPACE-0003");
		
		externSpaces = configuration.getExternalSpaces();
		assertTrue(externSpaces != null);
		assertEquals(externSpaces.get("SPACE-0003"), s2);
	}

