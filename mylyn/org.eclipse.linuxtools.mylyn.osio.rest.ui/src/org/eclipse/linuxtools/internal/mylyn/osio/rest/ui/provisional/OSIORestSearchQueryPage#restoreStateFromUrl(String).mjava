	@SuppressWarnings("restriction")
	private void restoreStateFromUrl(String queryUrl) throws UnsupportedEncodingException {
		queryUrl = queryUrl.substring(queryUrl.indexOf("?") + 1); //$NON-NLS-1$
		String[] options = queryUrl.split("&"); //$NON-NLS-1$
		for (String option : options) {
			String key;
			int endindex = option.indexOf("="); //$NON-NLS-1$
			if (endindex == -1) {
				key = null;
			} else {
				key = option.substring(0, option.indexOf("=")); //$NON-NLS-1$
			}
			if (key == null || key.equals("order")) { //$NON-NLS-1$
				continue;
			}
			String value = URLDecoder.decode(option.substring(option.indexOf("=") + 1), //$NON-NLS-1$
					getTaskRepository().getCharacterEncoding());
			TaskAttribute attr = getTargetTaskData().getRoot().getAttribute(key);
			if (attr != null) {
				if (getTargetTaskData().getRoot().getAttribute(key).getValue().equals("")) { //$NON-NLS-1$
					getTargetTaskData().getRoot().getAttribute(key).setValue(value);
				} else {
					getTargetTaskData().getRoot().getAttribute(key).addValue(value);
				}
			}
		}
	}

