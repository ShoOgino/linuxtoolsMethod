	public OSIORestConfiguration getConfiguration(TaskRepository repository, IOperationMonitor monitor) {
		try {
			OSIORestConfiguration config = new OSIORestConfiguration(repository.getUrl(), userName);
			Map<String, Space> spaces = getSpaces(monitor);
			for (Space space : spaces.values()) {
				Map<String, WorkItemTypeData> workItemTypes = getSpaceWorkItemTypes(new NullOperationMonitor(), space);
				space.setWorkItemTypes(workItemTypes);
				Map<String, WorkItemLinkTypeData> workItemLinkTypes = getSpaceWorkItemLinkTypes(new NullOperationMonitor(), space);
				space.setWorkItemLinkTypes(workItemLinkTypes);
				Map<String, Area> areas = getSpaceAreas(new NullOperationMonitor(), space);
				space.setAreas(areas);
				Map<String, Iteration> iterations = getSpaceIterations(new NullOperationMonitor(), space);
				space.setIterations(iterations);
				Map<String, Label> labels = getSpaceLabels(new NullOperationMonitor(), space);
				space.setLabels(labels);
				Map<String, User> users = getUsers(new NullOperationMonitor(), space);
				space.setUsers(users);
			}
			config.setSpaces(spaces);
			return config;
		} catch (Exception e) {
			StatusHandler
					.log(new Status(IStatus.ERROR, OSIORestCore.ID_PLUGIN, "Could not get the Configuration", e)); //$NON-NLS-1$
			return null;
		}
	}

