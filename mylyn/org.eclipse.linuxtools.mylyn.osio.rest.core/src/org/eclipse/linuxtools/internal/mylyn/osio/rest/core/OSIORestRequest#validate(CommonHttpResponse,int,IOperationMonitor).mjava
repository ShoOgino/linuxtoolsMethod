	protected void validate(CommonHttpResponse response, int expected, IOperationMonitor monitor)
			throws OSIORestException {
		int statusCode = response.getStatusCode();
		if (statusCode != expected && statusCode != HttpStatus.SC_BAD_REQUEST) {
			if (statusCode == HttpStatus.SC_NOT_FOUND) {
				throw new OSIORestResourceNotFoundException(
						NLS.bind("Requested resource ''{0}'' does not exist", response.getRequestPath()));
			} else if (statusCode == HttpStatus.SC_MOVED_PERMANENTLY) {
				throw new OSIORestResourceMovedPermanentlyException(
						response.getResponse().getAllHeaders()[0],
						NLS.bind("Requested resource ''{0}'' has been moved permanently", response.getRequestPath()));
			}
			throw new OSIORestException(NLS.bind("Unexpected response from OSIO REST server for ''{0}'': {1}",
					response.getRequestPath(), HttpUtil.getStatusText(statusCode)));
		}
	}

