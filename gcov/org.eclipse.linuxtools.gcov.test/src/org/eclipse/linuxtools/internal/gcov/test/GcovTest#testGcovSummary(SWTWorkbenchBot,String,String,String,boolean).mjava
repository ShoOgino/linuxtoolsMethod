    private static void testGcovSummary(SWTWorkbenchBot bot, String projectName, String filename, String binName,
            boolean testProducedReference) throws Exception {
        IPath filePath = new Path(filename);
        IFile file = ResourcesPlugin.getWorkspace().getRoot().getFile(filePath);
        String binPath = file.getProject().getFile(binName).getLocation().toOSString();

        openResource(bot, file.getName());
        Matcher<Shell> withText = withText("Gcov - Open coverage results...");
        bot.waitUntil(Conditions.waitForShell(withText));

        SWTBotShell shell = bot.shell("Gcov - Open coverage results...");
        shell.activate();
        bot.textInGroup("Binary File", 0).setText(binPath);
        bot.button("OK").click();
        bot.waitUntil(Conditions.shellCloses(shell));

        SWTBotView botView = bot.viewByTitle("gcov");
        // The following cannot be tested on 4.2 because the SWTBot implementation of toolbarButton()
        // is broken there because it relies PartPane having a method getPane() which is no longer true.
        botView.toolbarButton("Sort coverage per function").click();
        dumpCSV(botView, "function", testProducedReference);
        botView.toolbarButton("Sort coverage per file").click();
        dumpCSV(botView, "file", testProducedReference);
        botView.toolbarButton("Sort coverage per folder").click();
        dumpCSV(botView, "folder", testProducedReference);
        botView.close();
    }

