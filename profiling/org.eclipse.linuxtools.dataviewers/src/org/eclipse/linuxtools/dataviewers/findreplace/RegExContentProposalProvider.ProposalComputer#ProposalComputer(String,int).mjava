        /**
         * Creates a new Proposal Computer.
         *
         * @param contents
         *            the contents of the subject control
         * @param position
         *            the cursor position
         */
        public ProposalComputer(String contents, int position) {
            fExpression = contents;
            fDocumentOffset = position;
            fPriorityProposals = new ArrayList<Proposal>();
            fProposals = new ArrayList<Proposal>();

            boolean isEscape = false;
            esc: for (int i = position - 1; i >= 0; i--) {
                if (fExpression.charAt(i) == '\\')
                    isEscape = !isEscape;
                else
                    break esc;
            }
            fIsEscape = isEscape;
        }

