    /**
     * Stores its current configuration in the dialog store.
     */
    private void writeConfiguration() {
        IDialogSettings s = getDialogSettings();

        s.put("wrap", fWrapInit); //$NON-NLS-1$
        s.put("casesensitive", fCaseInit); //$NON-NLS-1$
        s.put("wholeword", fWholeWordInit); //$NON-NLS-1$
        s.put("incremental", fIncrementalInit); //$NON-NLS-1$
        s.put("isRegEx", fIsRegExInit); //$NON-NLS-1$

        List<String> history = getFindHistory();
        String findString = getFindString();
        if (findString.length() > 0)
            history.add(0, findString);
        writeHistory(history, s, "findhistory"); //$NON-NLS-1$

        history = getReplaceHistory();
        String replaceString = getReplaceString();
        if (replaceString.length() > 0)
            history.add(0, replaceString);
        writeHistory(history, s, "replacehistory"); //$NON-NLS-1$
    }

