    @Override
    public void paintControl(PaintEvent e) {
        GC gc = e.gc;
        Rectangle bounds;
        if (plotArea == null) {
			bounds = gc.getClipping();
		} else {
			bounds = plotArea.getBounds();
		}
        double[][] series = this.getPieSeriesArray();
        if (series.length == 0) {
            Rectangle allBounds = chart.getBounds();
            Font font = new Font(Display.getDefault(), "Arial", 15, SWT.BOLD); //$NON-NLS-1$
            gc.setForeground(BLACK);
            gc.setFont(font);
            String text = "No data"; //$NON-NLS-1$
            Point textSize = e.gc.textExtent(text);
            gc.drawText(text, (allBounds.width - textSize.x) / 2, (allBounds.height - textSize.y) / 2);
            font.dispose();
            return;
        }
        int width = (bounds.width - bounds.x) / series.length;
        int x = bounds.x;

        if (legendArea != null && seriesNames.length > 1) {
            Rectangle legendBounds = legendArea.getBounds();
            Font font = new Font(Display.getDefault(), "Arial", 10, SWT.BOLD); //$NON-NLS-1$
            gc.setForeground(BLACK);
            gc.setFont(font);
            String text = seriesNames[0];
            Point textSize = e.gc.textExtent(text);
            gc.drawText(text, legendBounds.x + (legendBounds.width - textSize.x) / 2, legendBounds.y - textSize.y);
            font.dispose();
        }

        for (int i = 0; i < series.length; i++) {
            double[] s = series[i];
            // Offset chartnum by +1 to account for the legend title at seriesNames[0].
            drawPieChart(e, i + 1, s, new Rectangle(x, bounds.y, width, bounds.height));
            x += width;
        }
    }

