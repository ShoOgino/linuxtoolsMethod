    /**
     * Returns whether quick diff info should be visible upon opening an editor according to the preference store
     * settings.
     *
     * @return <code>true</code> if the line numbers should be visible
     */
    private boolean getQuickDiffPreference() {
        IPreferenceStore store = getPreferenceStore();
        boolean setting = store != null ? store
                .getBoolean(AbstractDecoratedTextEditorPreferenceConstants.QUICK_DIFF_ALWAYS_ON) : false;
        if (!setting)
            return false;

        // The column is used only in STAnnotatedCSourceEditor hence it can be safely assumed that we get ITextEditorExtension2
        ITextEditorExtension2 editor = (ITextEditorExtension2)getEditor();
        return editor.isEditorInputModifiable();
    }

