	public void saveState(IMemento memento)
	{
		if (_viewer == null)
		{
			if (_memento != null)
				memento.putMemento(_memento);
		}
		else
		{
			// Save sort column and reverse state
			SampleSorter sorter = (SampleSorter) _viewer.getSorter();
			memento.putInteger(TAG_SORT_COLUMN, sorter.getColumnNumber());
			memento.putInteger(TAG_SORT_REVERSED, (sorter.isReversed() ? 1 : 0));
			
			// Save column dimensions
			Table table = _viewer.getTable();
			TableColumn columns[] = table.getColumns();
			
			// Stolen from org.eclipse.ui.TaskViewer
			boolean shouldSave = false;
			for (int i = 0; i < columns.length; ++i)
			{
				if (_columnLayouts[i].resizable && columns[i].getWidth() != 0)
				{
					shouldSave = true;
					break;
				}
			}
			if (shouldSave)
			{
				for (int i = 0; i < columns.length; ++i)
				{
					if (_columnLayouts[i].resizable)
					{
						IMemento child = memento.createChild(TAG_COLUMN);
						child.putInteger(TAG_NUMBER, i);
						child.putInteger(TAG_WIDTH, columns[i].getWidth());
					}
				}
			}
		}
	}

