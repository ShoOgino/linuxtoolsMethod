	/**
	 * Create opcontrol process
	 * 
	 * @param cmdArray
	 *            array of opcontrol command and arguments
	 * @param project
	 *            project to be profiled
	 * @return p opcontrol process
	 * @throws OpcontrolException
	 * @since 1.1
	 */
	protected Process createOpcontrolProcess(String[] cmdArray, IProject project) throws OpcontrolException {
		Process p = null;
		try {

			if (!LinuxtoolsPathProperty.getInstance().getLinuxtoolsPath(project).isEmpty()) {
				p = RuntimeProcessFactory.getFactory().sudoExec(cmdArray, project);
			} else if (isInstalled) {
				p = Runtime.getRuntime().exec(cmdArray);
			} else {
				throw new OpcontrolException(OprofileCorePlugin.createErrorStatus("opcontrolProvider", null)); //$NON-NLS-1$
			}

		} catch (IOException ioe) {
			throw new OpcontrolException(OprofileCorePlugin.createErrorStatus("opcontrolRun", ioe)); //$NON-NLS-1$
		}

		return p;
	}

