	/**
	 * @see org.eclipse.debug.core.model.ILaunchConfigurationDelegate#launch(ILaunchConfiguration, String, ILaunch, IProgressMonitor)
	 */
	public void launch(ILaunchConfiguration config, String mode, ILaunch launch,
									IProgressMonitor monitor) throws CoreException
	{
		OprofileSession session = new OprofileSession(config);
		ILaunch prog = session.run();

		//add a listener for termination of the launch
		ILaunchManager lmgr = DebugPlugin.getDefault().getLaunchManager();
		lmgr.addLaunchListener(new LaunchTerminationWatcher(prog));
	}

