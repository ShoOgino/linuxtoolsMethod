	/**
	 * Loads a counter configuration from the specified launch configuration.
	 * @param config	the launch configuration
	 */
	public void loadConfiguration(ILaunchConfiguration config) {
		try {
			_enabled = config.getAttribute(LaunchPlugin.ATTR_COUNTER_ENABLED(_number), false);

			String str = config.getAttribute(LaunchPlugin.ATTR_COUNTER_EVENT(_number), ""); //$NON-NLS-1$
			_daemonEvent.setEvent(_eventFromString(str));

			if (_daemonEvent.getEvent() == null) {
				throw new Exception("No event named " + str);
			}
			
			
			int maskValue =  config.getAttribute(LaunchPlugin.ATTR_COUNTER_UNIT_MASK(_number), -1);
			if (maskValue > -1)
				_daemonEvent.getEvent().getUnitMask().setMaskValue(maskValue);
			
			_daemonEvent.setProfileKernel(config.getAttribute(LaunchPlugin.ATTR_COUNTER_PROFILE_KERNEL(_number), false));
			_daemonEvent.setProfileUser(config.getAttribute(LaunchPlugin.ATTR_COUNTER_PROFILE_USER(_number), false));
			
			// NOTE: -1 means "query oprofile library"
			_daemonEvent.setResetCount(config.getAttribute(LaunchPlugin.ATTR_COUNTER_COUNT(_number), -1));
		} catch (CoreException ce) {
		} catch (Exception e) {
			
		}
	}

