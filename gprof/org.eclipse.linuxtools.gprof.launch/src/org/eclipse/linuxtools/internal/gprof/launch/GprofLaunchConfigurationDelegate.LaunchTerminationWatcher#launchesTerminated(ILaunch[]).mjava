        @Override
        public void launchesTerminated(ILaunch[] launches) {

            for (ILaunch l : launches) {
                /**
                 * Retrieve the gmon file, and open profiling results.
                 */
                if (l.equals(launch)) {
                    //need to run this in the ui thread otherwise get SWT Exceptions
                    // based on concurrency issues
                    Display.getDefault().syncExec(new Runnable() {
                        @Override
                        public void run() {
                            try {
                                String s = exePath.toOSString();
                                URI workingDirURI = getProject().getLocationURI();
                                RemoteProxyManager rpmgr = RemoteProxyManager.getInstance();
                                IRemoteFileProxy proxy = rpmgr.getFileProxy(getProject());
                                String workingDirPath = proxy.toPath(workingDirURI);
                                // Because we set the working directory on execution to the top-level
                                // project directory, the gmon.out file should be found there
                                String gmonExpected = workingDirPath + "/gmon.out"; //$NON-NLS-1$
                                IFileStore f = proxy.getResource(gmonExpected);
                                if (!f.fetchInfo().exists()) {
                                    Shell parent = PlatformUI.getWorkbench().getDisplay().getActiveShell();
                                    GprofNoGmonDialog dialog = new GprofNoGmonDialog(parent, getProject());
                                    if (dialog.open() != 0) {
                                        gmonExpected = dialog.getPathToGmon();
                                        f = proxy.getResource(gmonExpected);
                                    } else {
                                        return;
                                    }
                                }

                                // We found gmon.out.  Make sure it was generated after the executable was formed.
                                IFileStore exe = proxy.getResource(exePath.toString());
                                if (exe.fetchInfo().getLastModified() > f.fetchInfo().getLastModified()) {
                                    String title = GprofLaunchMessages.GprofGmonStale_msg;
                                    String message = GprofLaunchMessages.GprofGmonStaleExplanation_msg;
                                    Shell parent = PlatformUI.getWorkbench().getDisplay().getActiveShell();
                                    MessageDialog.openWarning(parent, title, message);
                                }
                                Display.getDefault().asyncExec(new LaunchTerminationWatcherRunnable(s, gmonExpected));

                            } catch (NullPointerException e) {
                                // Do nothing
                            } catch (CoreException e) {
                                // Do nothing
                            }
                        }
                    });
                }
            }
        }

