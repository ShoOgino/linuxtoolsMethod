	@BeforeClass
	public static void beforeClass() throws Exception {
		SWTBotPreferences.KEYBOARD_LAYOUT = "EN_US";
		// slow down tests
		SWTBotPreferences.PLAYBACK_DELAY = 10;
		bot = new SWTWorkbenchBot();
		mainShell = bot.activeShell();
		// Close the Welcome view if it exists
		try {
		bot.viewByTitle("Welcome").close();
		// Turn off automatic building by default
		} catch (Exception e) {
			// do nothing
		}
		// Turn off automatic building by default
		bot.menu("Window").menu("Preferences").click();
		SWTBotShell shell = bot.shell("Preferences");
		shell.activate();
		bot.tree().expandNode("General").select("Workspace");
		SWTBotCheckBox buildAuto = bot.checkBox("Build automatically");
		if (buildAuto != null && buildAuto.isChecked())
			buildAuto.click();
		bot.button("Apply").click();
		// Ensure that the C/C++ perspective is chosen automatically
		// and doesn't require user intervention
		// Note, the following method using SWTBot does not work
		// It appears to be a problem with interacting with a RadioGroupFieldEditor
//		bot.tree().expandNode("General").select("Perspectives");
//		SWTBotRadio radio = bot.radio("Always open");
//		if (radio != null && !radio.isSelected())
//			radio.click();
//		bot.sleep(1000);
//		bot.button("Apply").click();
		bot.button("OK").click();
		
		// Use an internal preference store to do the job.
		IPreferenceStore p = IDEWorkbenchPlugin.getDefault().getPreferenceStore();
		p.setValue(PROJECT_SWITCH_PERSP_MODE, ALWAYS);
	}

