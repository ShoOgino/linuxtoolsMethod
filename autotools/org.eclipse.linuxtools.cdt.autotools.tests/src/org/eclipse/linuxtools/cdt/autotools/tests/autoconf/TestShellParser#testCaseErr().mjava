	public void testCaseErr() {
		String text = 
			"case $VAL; linux-*-*) AC_FIRST($VAL) ; true esac\n";
		AutoconfElement tree = parse(text, true);
		assertEquals(2, errors.size());
		checkError(AutoconfEditorMessages.getString(AutoconfParser.INVALID_IN));
		checkError(AutoconfEditorMessages.getFormattedString(AutoconfParser.INVALID_TERMINATION, "esac"));
		
		assertTreeStructure(tree, new String[] { "case", "linux-*-*", "AC_FIRST", "$VAL", null, null, null });
		
		AutoconfElement[] kids = tree.getChildren();
		AutoconfCaseElement caseEl = (AutoconfCaseElement) kids[0];
		AutoconfCaseConditionElement caseCond = (AutoconfCaseConditionElement) caseEl.getChildren()[0];
		// goofed up, but ok
		assertEquals("linux-*-*) AC_FIRST($VAL) ; true esac", caseCond.getSource());
		assertEqualSource("AC_FIRST($VAL)", caseCond.getChildren()[0]);

	}

