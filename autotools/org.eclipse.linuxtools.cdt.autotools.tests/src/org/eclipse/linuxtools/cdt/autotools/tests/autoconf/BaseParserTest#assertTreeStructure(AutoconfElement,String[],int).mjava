	private int assertTreeStructure(AutoconfElement tree, String[] elements,
			int elementIdx) {
		AutoconfElement[] kids = tree.getChildren();
		for (int j = 0; j < kids.length; j++) {
			if (elementIdx >= elements.length  || elements[elementIdx] == null) {
				fail("extra children in " + tree + " at " + kids[j]);
			}
			if (!kids[j].getName().equals(elements[elementIdx])) 
				fail("did not match " + elements[elementIdx] + ", instead got " + kids[j].getClass().getSimpleName() + "=" + kids[j].getName());
			
			elementIdx++;
			if (kids[j].getChildren().length > 0) {
				elementIdx = assertTreeStructure(kids[j], elements, elementIdx);
				if (elementIdx >= elements.length)
					fail("Missing null in elements list, or invalid tree hierarchy");
				if (elements[elementIdx] != null) {
					fail("not enough children in " + tree);
				}
				elementIdx++;
			}
		}
		return elementIdx;
	}

