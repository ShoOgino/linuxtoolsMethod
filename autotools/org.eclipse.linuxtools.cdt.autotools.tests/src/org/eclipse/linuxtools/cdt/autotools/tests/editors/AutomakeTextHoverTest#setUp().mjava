	protected void setUp() throws Exception {
		super.setUp();
		tools = new ProjectTools();
		if (!ProjectTools.setup())
			fail("could not perform basic project workspace setup");

		project = ProjectTools.createProject("testProjectATHT");

		if(project == null) {
			fail("Unable to create test project");
		}

		project.open(new NullProgressMonitor());

		Display.getDefault().syncExec(new Runnable() {

			public void run() {
				try {
					makefileAmFile = tools.createFile(project, "Makefile.am", makefileAmContents);
					workbench = AutotoolsTestsPlugin.getDefault().getWorkbench();

					IEditorPart openEditor = org.eclipse.ui.ide.IDE.openEditor(workbench
							.getActiveWorkbenchWindow().getActivePage(), makefileAmFile,
							true);

					automakeEditor = (AutomakeEditor) openEditor;
					AutomakeDocumentProvider docProvider = automakeEditor.getAutomakefileDocumentProvider();
					automakeDocument = docProvider.getDocument(openEditor.getEditorInput());
					AutomakefileSourceConfiguration automakeSourceViewerConfig = automakeEditor.getAutomakeSourceViewerConfiguration();
					textHover = (AutomakeTextHover) automakeSourceViewerConfig.getTextHover(null, "");
				} catch (Exception e) {
					fail();
				}
			}

		});
	}

