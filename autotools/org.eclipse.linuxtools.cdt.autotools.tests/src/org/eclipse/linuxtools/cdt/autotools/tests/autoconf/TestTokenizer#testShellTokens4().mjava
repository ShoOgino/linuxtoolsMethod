	public void testShellTokens4() {
		String text = "echo $if $((foo)) $\n";
		IDocument document = createDocument(text);
		List tokens = tokenize(document, false);
		checkNoErrors();
		assertEquals(11, tokens.size());
		checkToken((Token) tokens.get(0), document, ITokenConstants.WORD, "echo");
		checkToken((Token) tokens.get(1), document, ITokenConstants.SH_DOLLAR, "$");
		// dollar guards keywords, but the tokenizer doesn't know this
		checkToken((Token) tokens.get(2), document, ITokenConstants.SH_IF, "if");
		checkToken((Token) tokens.get(3), document, ITokenConstants.SH_DOLLAR, "$");
		checkToken((Token) tokens.get(4), document, ITokenConstants.LPAREN, "(");
		checkToken((Token) tokens.get(5), document, ITokenConstants.LPAREN, "(");
		checkToken((Token) tokens.get(6), document, ITokenConstants.WORD, "foo");
		checkToken((Token) tokens.get(7), document, ITokenConstants.RPAREN, ")");
		checkToken((Token) tokens.get(8), document, ITokenConstants.RPAREN, ")");
		checkToken((Token) tokens.get(9), document, ITokenConstants.SH_DOLLAR, "$");
		checkToken((Token) tokens.get(10), document, ITokenConstants.EOL, "\n");

	}

