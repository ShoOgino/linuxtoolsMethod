	/**
	 * Returns one marker which includes the ruler's line of activity.
	 */
	@SuppressWarnings("unchecked")
	protected List<IMarker> getMarkersForLine(ISourceViewer viewer, int line) {
		
		IDocument document= viewer.getDocument();
		IAnnotationModel model= viewer.getAnnotationModel();
		
		if (model == null)
			return null;
			
		List<IMarker> exact= new ArrayList<IMarker>();
		List<IMarker> including= new ArrayList<IMarker>();
		
		Iterator<Object> e= model.getAnnotationIterator();
		while (e.hasNext()) {
			Object o= e.next();
			if (o instanceof MarkerAnnotation) {
				MarkerAnnotation a= (MarkerAnnotation) o;
				switch (compareRulerLine(model.getPosition(a), document, line)) {
					case 1:
						exact.add(a.getMarker());
						break;
					case 2:
						including.add(a.getMarker());
						break;
				}
			}
		}
		
		return select(exact, including);
	}

