	private AutoconfElement reparseDocument(IDocument document,
			IEditorInput editorInput) {
		AutoconfParser parser = getAutoconfParser();
		((AutoconfErrorHandler)parser.getErrorHandler()).removeAllExistingMarkers();
		
		String version;
		try {
			version = fProject.getPersistentProperty(AutotoolsPropertyConstants.AUTOCONF_VERSION);
			if (version == null)
				version = AutotoolsPlugin.getDefault().getPreferenceStore().getString(AutotoolsEditorPreferenceConstants.AUTOCONF_VERSION);

		} catch (CoreException e) {
			throw new RuntimeException(e);
		}
		
		return parser.parse(document, version);
	}

